"use strict";$(document).ready(function(){lazy(),scrollInit(),dropdown(),search(),aside(),inputs(),slider(),scrollBtnTop(),select(),gallery(),moreInfo(),calculator(),popup()}),$(window).resize(function(){innerWidth=$("body").innerWidth(),imagesResize()}),$(window).on("scroll",function(){scrollTop=$(window).scrollTop(),scrollBtnTop()});var innerWidth=$("body").innerWidth(),scrollTop=$(window).scrollTop(),$checkbox=$(".checkbox"),$slider=$(".slider"),cursorcolorVar="transparent",cursorwidthVar="15px",cursorborderVar="0",cursorborderradiusVar="0",zindexVar=[100],bouncescrollVar=!1,$scrollContainer=$(".scroll-container");function lazy(){$(".lazy").Lazy({effect:"fadeIn",visibleOnly:!0,effectTime:300,threshold:0,imageBase:!1,defaultImage:!1,afterLoad:function(e){var o=$(e).parent(),s=o.height(),t=o.width(),l=e.height();e.width()/l<=t/s?e.addClass("ww").removeClass("wh"):e.addClass("wh").removeClass("ww"),e.addClass("visible")}})}function scrollBtnTop(){var e=$(".button_scroll-top");200<scrollTop?e.fadeIn():e.fadeOut()}function imagesResize(){setTimeout(function(){$("img.visible").each(function(){var e=$(this).parent(),o=e.height(),s=e.width(),t=$(this).height();$(this).width()/t<=s/o?$(this).addClass("ww").removeClass("wh"):$(this).addClass("wh").removeClass("ww")})},100)}function select(){$("html").hasClass("android")||$("html").hasClass("ios")||$(".select").niceSelect()}function scrollInit(){if($("html").hasClass("desktop")){$("html").css("overflow","hidden"),$("body").niceScroll({cursorcolor:cursorcolorVar,cursorwidth:cursorwidthVar,cursorborder:cursorborderVar,cursorborderradius:cursorborderradiusVar,zindex:zindexVar,bouncescroll:bouncescrollVar,autohidemode:!0}),$scrollContainer.niceScroll(".scroll-wrapper",{cursorcolor:cursorcolorVar,cursorwidth:cursorwidthVar,cursorborder:cursorborderVar,cursorborderradius:cursorborderradiusVar,zindex:zindexVar,bouncescroll:bouncescrollVar,autohidemode:"leave"});setInterval(function(){$("body").getNiceScroll().resize(),$scrollContainer.getNiceScroll().resize()},50);$(".button_scroll-top").on("click",function(e){e.preventDefault(),$("body").getNiceScroll().doScrollPos(0,0)})}else $(".button_scroll-top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})}function dropdown(){var o,s=$(".dropdown-item__button"),t=$(".dropdown-item__container"),l=$(".dropdown-item");$(document).on("click touchstart",function(e){s.is(e.target)&&e.preventDefault(),o||(o=!0,setTimeout(function(){o=!1},300),!t.is(e.target)&&0===t.has(e.target).length&&!s.is(e.target)&&l.hasClass("visible")||s.is(e.target)&&$(e.target).parents(".dropdown-item").hasClass("visible")?l.removeClass("visible"):s.is(e.target)&&(l.removeClass("visible"),$(e.target).parents(".dropdown-item").addClass("visible")))})}function search(){var e=$(".search-open"),o=$(".search-close"),s=$(".header__search");e.on("click",function(e){e.preventDefault(),s.addClass("visible")}),o.on("click",function(e){e.preventDefault(),s.removeClass("visible")}),$(window).resize(function(){576<innerWidth&&s.removeClass("visible")})}function aside(){var e=$(".catalogue-toggle"),o=$(".filter-toggle, .setup-open"),s=$(".filter-section__title"),t=$(".nav-toggle");e.on("click",function(e){e.preventDefault(),$("html").toggleClass("catalogue-opened"),$("html").hasClass("filter-opened")&&$("html").removeClass("filter-opened"),$(".aside .scroll-container").getNiceScroll().doScrollPos(0,0)}),o.on("click",function(e){e.preventDefault(),$("html").hasClass("nav-opened")||(scrollLock.hide($("body")),$("html").addClass("nav-opened")),$("html").toggleClass("filter-opened"),$(".aside .scroll-container").getNiceScroll().doScrollPos(0,0)}),s.on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("active")}),t.on("click",function(e){e.preventDefault(),$("html").hasClass("nav-opened")?(scrollLock.show($("body")),$("html").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened")):(scrollLock.hide($("body")),$("html").addClass("nav-opened"))}),0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled"),$(window).on("scroll",function(){0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled")}),$(window).resize(function(){992<innerWidth&&($("body").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened"),scrollLock.show($("body")))})}function inputs(){var e=$(".form-reset-btn"),o=$("input"),s=$("form");function t(){$checkbox.each(function(){$(this).find("input").prop("checked")?$(this).addClass("checked"):$(this).removeClass("checked")})}function l(){s.each(function(){$(this).find(e).length&&(0<$(this).find("input:checked").length||$(this).find("input").val()?$(this).find(e).prop("disabled",!1):e.prop("disabled",!0))})}t(),l(),o.on("change",function(){t(),l()}),e.on("click",function(){setTimeout(function(){t(),l()},100)})}function slider(){$slider.on("init",function(){$(this).addClass("visible")}),$slider.each(function(){$(this).on("init reInit afterChange",function(){lazy()});var e=1,o=1,s=1,t=1,l=1,r=!0,n=!1,i=!1;$(this).hasClass("main-slider__slider")&&(n=i=!0),$(this).hasClass("interesting-items__slider")&&(s=o=3,t=2,l=1,e=4),$(this).hasClass("gallery-slider")&&(i=!(r=!1)),$(this).slick({infinite:!0,dots:!1,arrows:r,speed:400,lazyLoad:"ondemand",adaptiveHeight:!1,centerMode:!1,slidesToShow:e,slidesToScroll:e,fade:i,autoplay:n,autoplaySpeed:3e3,prevArrow:'<button class="slick-prev slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="img/icons/icons-sprite.svg#icon18"></use></svg></button>',nextArrow:'<button class="slick-next slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="img/icons/icons-sprite.svg#icon18"></use></svg></button>',responsive:[{breakpoint:1201,settings:{slidesToShow:o,slidesToScroll:o}},{breakpoint:993,settings:{slidesToShow:s,slidesToScroll:s}},{breakpoint:769,settings:{slidesToShow:t,slidesToScroll:t}},{breakpoint:577,settings:{slidesToShow:l,slidesToScroll:l}},{breakpoint:420,settings:{slidesToShow:1,slidesToScroll:1}}]})})}function gallery(){var s=$(".gallery-slider");$(".gallery-nav__link").on("click",function(e){e.preventDefault();var o=$(this).parent().index();s.slick("slickGoTo",o)})}function moreInfo(){$(".product-head__item .button-toggle").on("click",function(e){e.preventDefault(),$(this).parents(".product-head__item").find(".product-head__more-info").toggleClass("active")})}function calculator(){var t,l,r,n,i="product-calculator__control";function a(e,o){var s=+$(e).find(".product-calculator__value-input").data("area"),t=$(e).find(".product-calculator__value-input"),l=+t.val();"increase"==o?t.val(parseFloat((l+s).toFixed(2))):"reduce"==o&&s<l&&t.val(parseFloat((l-s).toFixed(2)))}$(document).on("touchstart touchend mousedown mouseup",".product-calculator",function(o){$(o.target);var s=this;if($(o.target).hasClass(i)||0<$(o.target).parents("."+i).length){var e=function(e){"mousedown"==o.type||"touchstart"==o.type?(l=!0,r=setTimeout(function(){l=!(n=!0),t=setInterval(function(){1==n&&(a(s,e),r=setTimeout(function(){1==n&&(t=clearInterval(t),t=setInterval(function(){a(s,e),r=setTimeout(function(){1==n&&(t=clearInterval(t),t=setInterval(function(){a(s,e)},35))},1e3)},70))},1e3))},140)},300)):"mouseup"!=o.type&&"touchend"!=o.type||(r=clearTimeout(r),t=clearInterval(t),n=!1,1==l&&a(s,e),l=!1)};$(o.target).closest("."+i),$(o.target).closest("."+i).hasClass("product-calculator__plus")?e("increase"):e("reduce")}})}function popup(){$(".popup-link").fancybox({autoFocus:!1,loop:!0}),$(".modal-link").fancybox({autoFocus:!1,smallBtn:!0,touch:!1}),$(".gallery-slide a").on("click",function(){var e=$(this).parents(".gallery").find(".slick-slide:not(.slick-cloned) a");return $.fancybox.open(e,{selector:e,backFocus:!1,loop:!0,animationEffect:"fade"},e.index(this)),!1})}
//# sourceMappingURL=maps/common.min.js.map
