"use strict";$(document).ready(function(){lazy(),scrollInit(),dropdown(),search(),aside(),inputs(),slider(),scrollBtnTop(),select(),gallery(),moreInfo(),calculator(),popup()}),$(window).resize(function(){innerWidth=$("body").innerWidth(),imagesResize()}),$(window).on("scroll",function(){scrollTop=$(window).scrollTop(),scrollBtnTop()});var innerWidth=$("body").innerWidth(),scrollTop=$(window).scrollTop(),$checkbox=$(".checkbox"),$slider=$(".slider"),cursorcolorVar="transparent",cursorwidthVar="15px",cursorborderVar="0",cursorborderradiusVar="0",zindexVar=[100],bouncescrollVar=!1,$scrollContainer=$(".scroll-container");function lazy(){$(".lazy").Lazy({effect:"fadeIn",visibleOnly:!0,effectTime:300,threshold:0,imageBase:!1,defaultImage:!1,afterLoad:function(e){var o=$(e).parent(),t=o.height(),l=o.width(),s=e.height();e.width()/s<=l/t?e.addClass("ww").removeClass("wh"):e.addClass("wh").removeClass("ww"),e.addClass("visible")}})}function scrollBtnTop(){var e=$(".button_scroll-top");200<scrollTop?e.fadeIn():e.fadeOut()}function imagesResize(){setTimeout(function(){$("img.visible").each(function(){var e=$(this).parent(),o=e.height(),t=e.width(),l=$(this).height();$(this).width()/l<=t/o?$(this).addClass("ww").removeClass("wh"):$(this).addClass("wh").removeClass("ww")})},100)}function select(){$("html").hasClass("android")||$("html").hasClass("ios")||$(".select").niceSelect()}function scrollInit(){if($("html").hasClass("desktop")){$("html").css("overflow","hidden"),$("body").niceScroll({cursorcolor:cursorcolorVar,cursorwidth:cursorwidthVar,cursorborder:cursorborderVar,cursorborderradius:cursorborderradiusVar,zindex:zindexVar,bouncescroll:bouncescrollVar,autohidemode:!0}),$scrollContainer.niceScroll(".scroll-wrapper",{cursorcolor:cursorcolorVar,cursorwidth:cursorwidthVar,cursorborder:cursorborderVar,cursorborderradius:cursorborderradiusVar,zindex:zindexVar,bouncescroll:bouncescrollVar,autohidemode:"leave"});setInterval(function(){$("body").getNiceScroll().resize(),$scrollContainer.getNiceScroll().resize()},50);$(".button_scroll-top").on("click",function(e){e.preventDefault(),$("body").getNiceScroll().doScrollPos(0,0)})}else $(".button_scroll-top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})}function dropdown(){var o,t=$(".dropdown-item__button"),l=$(".dropdown-item__container"),s=$(".dropdown-item");$(document).on("click touchstart",function(e){t.is(e.target)&&e.preventDefault(),o||(o=!0,setTimeout(function(){o=!1},300),!l.is(e.target)&&0===l.has(e.target).length&&!t.is(e.target)&&s.hasClass("visible")||t.is(e.target)&&$(e.target).parents(".dropdown-item").hasClass("visible")?s.removeClass("visible"):t.is(e.target)&&(s.removeClass("visible"),$(e.target).parents(".dropdown-item").addClass("visible")))})}function search(){var e=$(".search-open"),o=$(".search-close"),t=$(".header__search");e.on("click",function(e){e.preventDefault(),t.addClass("visible")}),o.on("click",function(e){e.preventDefault(),t.removeClass("visible")}),$(window).resize(function(){576<innerWidth&&t.removeClass("visible")})}function aside(){var e=$(".catalogue-toggle"),o=$(".filter-toggle, .setup-open"),t=$(".filter-section__title"),l=$(".nav-toggle");e.on("click",function(e){e.preventDefault(),$("html").toggleClass("catalogue-opened"),$("html").hasClass("filter-opened")&&$("html").removeClass("filter-opened"),$(".aside .scroll-container").getNiceScroll().doScrollPos(0,0)}),o.on("click",function(e){e.preventDefault(),$("html").hasClass("nav-opened")||(scrollLock.hide($("body")),$("html").addClass("nav-opened")),$("html").toggleClass("filter-opened"),$(".aside .scroll-container").getNiceScroll().doScrollPos(0,0)}),t.on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("active")}),l.on("click",function(e){e.preventDefault(),$("html").hasClass("nav-opened")?(scrollLock.show($("body")),$("html").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened")):(scrollLock.hide($("body")),$("html").addClass("nav-opened"))}),0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled"),$(window).on("scroll",function(){0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled")}),$(window).resize(function(){992<innerWidth&&($("body").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened"),scrollLock.show($("body")))})}function inputs(){var e=$(".form-reset-btn"),o=$("input"),t=$("form");function l(){$checkbox.each(function(){$(this).find("input").prop("checked")?$(this).addClass("checked"):$(this).removeClass("checked")})}function s(){t.each(function(){$(this).find(e).length&&(0<$(this).find("input:checked").length||$(this).find("input").val()?$(this).find(e).prop("disabled",!1):e.prop("disabled",!0))})}l(),s(),o.on("change",function(){l(),s()}),e.on("click",function(){setTimeout(function(){l(),s()},100)})}function slider(){$slider.on("init",function(){$(this).addClass("visible")}),$slider.each(function(){$(this).on("init reInit afterChange",function(){lazy()});var e=1,o=1,t=1,l=1,s=1,a=!0,r=!1,c=!1;$(this).hasClass("main-slider__slider")&&(r=c=!0),$(this).hasClass("interesting-items__slider")&&(t=o=3,l=2,s=1,e=4),$(this).hasClass("gallery-slider")&&(c=!(a=!1)),$(this).slick({infinite:!0,dots:!1,arrows:a,speed:400,lazyLoad:"ondemand",adaptiveHeight:!1,centerMode:!1,slidesToShow:e,slidesToScroll:e,fade:c,autoplay:r,autoplaySpeed:3e3,prevArrow:'<button class="slick-prev slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="img/icons/icons-sprite.svg#icon18"></use></svg></button>',nextArrow:'<button class="slick-next slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="img/icons/icons-sprite.svg#icon18"></use></svg></button>',responsive:[{breakpoint:1201,settings:{slidesToShow:o,slidesToScroll:o}},{breakpoint:993,settings:{slidesToShow:t,slidesToScroll:t}},{breakpoint:769,settings:{slidesToShow:l,slidesToScroll:l}},{breakpoint:577,settings:{slidesToShow:s,slidesToScroll:s}},{breakpoint:420,settings:{slidesToShow:1,slidesToScroll:1}}]})})}function gallery(){var t=$(".gallery-slider");$(".gallery-nav__link").on("click",function(e){e.preventDefault();var o=$(this).parent().index();t.slick("slickGoTo",o)})}function moreInfo(){$(".product-head__item .button-toggle").on("click",function(e){e.preventDefault(),$(this).parents(".product-head__item").find(".product-head__more-info").toggleClass("active")})}function calculator(){var s,a,r,c="product-calculator__control",i="product-calculator__js-toggle",n="product-calculator__value-input",u=!1,d=!1,p=!1;function h(e,o){var t=parseFloat($(e).find(".product-calculator__value-input").data("square").toFixed(2)),l=parseFloat((Math.ceil(+$(e).find(".product-calculator__value-input").data("minsquare")/t)*t).toFixed(2)),s=e.find(".product-calculator__value-input"),a=+$(e).find(".product-calculator__value-input").data("price"),r=e.find(".product-calculator__total-price"),c=+s.val();if("increase"==o)$(e).hasClass("product-calculator_js-count-calc")?s.val(parseFloat((c+1).toFixed(0))):s.val(parseFloat((c+t).toFixed(2)));else if("reduce"==o)$(e).hasClass("product-calculator_js-count-calc")?l/t<c&&s.val(parseFloat((c-1).toFixed(0))):l<c&&s.val(parseFloat((c-t).toFixed(2)));else if("measureChange"==o)$(e).hasClass("product-calculator_js-count-calc")?s.val(parseFloat((c/t).toFixed(0))):s.val(parseFloat((c*t).toFixed(2)));else if("calculatePrice"==o)$(e).hasClass("product-calculator_js-count-calc")?r.text(parseFloat((c*t*a).toFixed(2))):r.text(parseFloat((c*a).toFixed(2)));else if("adjustment"==o){var i;if($(e).hasClass("product-calculator_js-count-calc"))(i=Math.ceil(c))<l/t?s.val(parseFloat((l/t).toFixed(0))):s.val(parseFloat(i.toFixed(0)));else(i=parseFloat((Math.floor(c/t)*t).toFixed(2)))<l?(s.val(parseFloat(l.toFixed(2))),console.log("1")):c!=i&&(console.log(i+t),s.val(parseFloat((i+t).toFixed(2))))}}$(".product-calculator").each(function(){var e=$(this);h(e,"adjustment"),h(e,"calculatePrice")}),$(".product-calculator").find(".product-calculator__value-input").on("change",function(){var e=$(this).parents(".product-calculator");h(e,"adjustment"),h(e,"calculatePrice")}),$(document).on("touchstart touchend mousedown mouseup click input mouseout",".product-calculator",function(e){var o=$(e.target),t=$(this);if($(e.target).hasClass(c)||0<$(e.target).parents("."+c).length){var l=function(o){"mousedown"==e.type||"touchstart"==e.type?d||(d=!0,s=setTimeout(function(){u=!0,a=150;r=setTimeout(function e(){45<a&&(a-=5),r=setTimeout(e,a),h(t,o),h(t,"calculatePrice")},a)},300)):"mouseup"!=e.type&&"touchend"!=e.type||p||(p=!0,setTimeout(function(){d=p=!1},100),s=clearTimeout(s),setTimeout(function(){s=clearTimeout(s)},50),r=clearTimeout(r),1==u?u=!1:(h(t,o),h(t,"calculatePrice")))};(o=$(e.target).closest("."+c)).hasClass("product-calculator__plus")?l("increase"):l("reduce")}else $(e.target).hasClass(i)||0<$(e.target).parents("."+i).length?($(e.target).closest("."+i),o=$(e.target).closest("."+i),"click"==e.type&&(o.hasClass("product-calculator__js-toggle_switch")?(t.toggleClass("product-calculator_js-count-calc"),h(t,"measureChange")):o.hasClass("product-calculator__js-toggle_square")?(t.removeClass("product-calculator_js-count-calc"),h(t,"measureChange")):o.hasClass("product-calculator__js-toggle_count")&&(t.addClass("product-calculator_js-count-calc"),h(t,"measureChange")))):($(e.target).hasClass(n)||0<$(e.target).parents("."+n).length)&&($(e.target).closest("."+n),o=$(e.target).closest("."+n),"input"==e.type?(o.val(o.val().replace(/[^\d\.]/g,"")),h(t,"calculatePrice"),1<o.val().match(/\./g).length&&(o.val(o.val().substr(0,o.val().lastIndexOf("."))),h(t,"calculatePrice"))):"mouseout"==e.type&&(o.blur(),h(t,"adjustment"),h(t,"calculatePrice")))})}function popup(){$(".popup-link").fancybox({autoFocus:!1,loop:!0}),$(".modal-link").fancybox({autoFocus:!1,smallBtn:!0,touch:!1}),$(".gallery-slide a").on("click",function(){var e=$(this).parents(".gallery").find(".slick-slide:not(.slick-cloned) a");return $.fancybox.open(e,{selector:e,backFocus:!1,loop:!0,animationEffect:"fade"},e.index(this)),!1})}
//# sourceMappingURL=maps/common.min.js.map
