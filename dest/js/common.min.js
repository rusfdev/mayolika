"use strict";$(document).ready(function(){lazy(),pageScroll(),dropdown(),search(),aside(),inputs(),slider(),select(),gallery(),moreInfo(),calculator(),fancybox(),designTab(),designForm(),svg4everybody()}),$(window).resize(function(){innerWidth=$("body").innerWidth(),$("img").each(function(){imagesResize($(this))})}),$(window).on("scroll",function(){scrollTop=$(window).scrollTop()});var scrollbarMain,scrollbarsAside,popupCloseTimer,innerWidth=$("body").innerWidth(),scrollTop=$(window).scrollTop(),Scrollbar=window.Scrollbar,$checkbox=$(".checkbox, .radio"),$slider=$(".slider"),$reset=$(".reset-btn"),$input=$("input"),$form=$("form"),cursorcolorVar="transparent",cursorwidthVar="15px",cursorborderVar="0",cursorborderradiusVar="0",zindexVar=[100],bouncescrollVar=!1,$scrollContainer=$(".scroll-container");function lazy(){$(".lazy").Lazy({effect:"fadeIn",visibleOnly:!0,effectTime:300,threshold:0,imageBase:!1,defaultImage:!1,afterLoad:function(e){imagesResize(e)}})}function imagesResize(t){var e=t.parent();if(e.hasClass("cover-box_size-auto"))t.addClass("visible");else{var a=e.height(),s=e.width();setTimeout(function(){var e=t.height();t.width()/e<=s/a?t.addClass("ww").removeClass("wh"):t.addClass("wh").removeClass("ww"),t.addClass("visible")},100)}}function select(){$("html").hasClass("desktop")?$(".select select").niceSelect():$(".select").addClass(".mobile-select")}function pageScroll(){var t=$(".button_scroll-top");if($("html").hasClass("desktop")){var a,e,s=function(){992<innerWidth&&1==e?(1==i&&scrollbarMain.destroy(),e=!1,scrollbarMain=Scrollbar.init(document.querySelector(".main"),{damping:.1}),o()):innerWidth<=992&&0==e&&(1==i&&scrollbarMain.destroy(),i=e=!0,scrollbarMain=Scrollbar.init(document.querySelector(".main__content"),{damping:.1}),o())},o=function(){scrollbarMain.addListener(function(e){a=scrollbarMain.offset.y,1==n&&(n=!1,setTimeout(function(){n=!0},500),lazy());console.log(a,scrollbarMain.limit.y),l||(200<a?t.fadeIn(200):t.fadeOut(200));0<a&&innerWidth<=992?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled")}),scrollbarMain.track.yAxis.show()},l=!1,n=!0,i=!1;e=992<innerWidth,s(),i=!0,$(window).resize(function(){s()}),t.on("click",function(e){e.preventDefault(),l=!0,t.fadeOut(200),scrollbarMain.scrollTo(0,0,1e3),setTimeout(function(){l=!1},1e3)})}else $("html, body").css("overflow","auto"),0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled"),$(window).on("scroll",function(){0<scrollTop?$(".aside").addClass("scrolled"):$(".aside").removeClass("scrolled"),$("html").hasClass("in-scroll")||(200<scrollTop?t.fadeIn(200):t.fadeOut(200))}),t.on("click",function(e){e.preventDefault(),$("html").addClass("in-scroll"),t.fadeOut(200),$("html, body").animate({scrollTop:0},1e3),setTimeout(function(){$("html").removeClass("in-scroll")},1e3)})}function dropdown(){var t,a=$(".dropdown-item__button"),s=$(".dropdown-item__container"),o=$(".dropdown-item");$(document).on("click touchstart",function(e){a.is(e.target)&&e.preventDefault(),t||(t=!0,setTimeout(function(){t=!1},300),!s.is(e.target)&&0===s.has(e.target).length&&!a.is(e.target)&&o.hasClass("visible")||a.is(e.target)&&$(e.target).parents(".dropdown-item").hasClass("visible")?o.removeClass("visible"):a.is(e.target)&&(o.removeClass("visible"),$(e.target).parents(".dropdown-item").addClass("visible")))})}function search(){var e=$(".search-open"),t=$(".search-close"),a=$(".header__search");e.on("click",function(e){e.preventDefault(),a.show()}),t.on("click",function(e){e.preventDefault(),a.hide()}),$(window).resize(function(){576<innerWidth&&a.show(300)})}function aside(){var e=$(".catalogue-toggle"),t=$(".filter-toggle"),a=$(".setup-open"),s=$(".filter-section__title"),o=$(".nav-toggle, .show-catalogue-btn");setInterval(function(){$(".aside__nav").height($(".aside__content").height()-$(".aside__buttons").height())},50),scrollbarsAside=Scrollbar.initAll(),e.on("click",function(e){e.preventDefault(),$("html").toggleClass("catalogue-opened"),$("html").hasClass("filter-opened")&&$("html").removeClass("filter-opened")}),t.on("click",function(e){e.preventDefault(),$("html").hasClass("nav-opened")||(scrollLock.hide($("body")),$("html").addClass("nav-opened")),$("html").toggleClass("filter-opened")}),a.on("click",function(e){e.preventDefault(),scrollLock.hide($("body")),$("html").addClass("nav-opened").addClass("filter-opened")}),s.on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("active"),scrollbarsAside[2].update()}),o.on("click",function(e){e.preventDefault(),$("aside").removeClass("filtered"),$("html").hasClass("nav-opened")?(scrollLock.show($("body")),$("html").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened")):(scrollLock.hide($("body")),$("html").addClass("nav-opened"))}),$(window).resize(function(){992<innerWidth&&($("body").removeClass("filter-opened").removeClass("catalogue-opened").removeClass("nav-opened"),scrollLock.show($("body")))}),$reset.on("click",function(){scrollbarsAside[2].scrollTo(0,0,1e3)})}function numChange(e){e.val(e.val().replace(/[^\d,.]*/g,"").replace(/([,.])[,.]+/g,"$1").replace(/^[^\d]*(\d+([.,]\d{0,5})?).*$/g,"$1"))}function checkboxCheck(){$checkbox.each(function(){$(this).find("input").prop("disabled")?$(this).addClass("disabled"):$(this).removeClass("disabled"),$(this).find("input").prop("checked")?$(this).addClass("checked"):$("#"+$(this).attr("for")).prop("checked")?$(this).addClass("checked"):$(this).removeClass("checked")})}function slider(){$slider.on("init",function(){$(this).addClass("visible")}),$slider.each(function(){$(this).on("init reInit afterChange",function(){lazy()});var e=1,t=1,a=1,s=1,o=1,l=!0,n=!1,i=!1;$(this).hasClass("main-banner__slider")&&(n=i=!0),$(this).hasClass("interesting-items__slider")&&(a=t=3,s=2,o=1,e=4),$(this).hasClass("product-slider")&&(i=!(l=!1)),$(this).hasClass("design-tab__slider")&&(i=!0),$(this).slick({infinite:!0,dots:!1,arrows:l,speed:300,lazyLoad:"ondemand",adaptiveHeight:!1,centerMode:!1,slidesToShow:e,slidesToScroll:e,fade:i,autoplay:n,autoplaySpeed:3e3,prevArrow:'<button class="slick-prev slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="/assets/components/project/dest/img/icons/icons-sprite.svg#icon18"></use></svg></button>',nextArrow:'<button class="slick-next slick-arrow" aria-label="Previous" type="button"><svg class="icon"><use xlink:href="/assets/components/project/dest/img/icons/icons-sprite.svg#icon18"></use></svg></button>',responsive:[{breakpoint:1201,settings:{slidesToShow:t,slidesToScroll:t}},{breakpoint:993,settings:{slidesToShow:a,slidesToScroll:a}},{breakpoint:769,settings:{slidesToShow:s,slidesToScroll:s}},{breakpoint:577,settings:{slidesToShow:o,slidesToScroll:o}},{breakpoint:420,settings:{slidesToShow:1,slidesToScroll:1}}]})})}function gallery(){var e,a=$(".product-slider"),t=$(".product-slider-nav__item a");function o(){e=a.find(".slick-active").index(),t.removeClass("active"),$(".product-slider-nav__item").eq(e).find(t).addClass("active")}a.on("swipe beforeChange",function(e,t,a,s){setTimeout(function(){o()},300)}),t.on("click",function(e){e.preventDefault();var t=$(this).parent().index();a.slick("slickGoTo",t),o()})}function designTab(){var a=$(".design-tab"),s=$(".design-info__nav-item .button");a.not(":first-child").hide(),s.on("click",function(e){e.preventDefault();var t=$(this).parent().index();s.removeClass("active"),$(this).addClass("active"),a.hide().eq(t).fadeIn(300),lazy()})}function designForm(){var t=$(".design-form__head-section .content"),a=$(".design-form__tab"),s=$(".design-form__toggle-section .button"),o=0;function l(e){t.removeClass("active"),t.parent().eq(e).find(t).addClass("active"),a.removeClass("active"),a.find("input").prop("checked",!1).prop("disabled",!0),a.eq(e).find("input").prop("disabled",!1),a.eq(e).addClass("active"),checkboxCheck()}l(o),t.on("click",function(e){e.preventDefault(),o=$(this).parent().index(),t.removeClass("active"),l(o)}),s.on("click",function(e){e.preventDefault(),s.removeClass("active"),$(this).addClass("active"),$(this).hasClass("button_toggle_state2")?($(".design-form__brand").show(),$(".design-form__block_style").addClass("active"),$(".design-form__block_style").find("input").prop("disabled",!1),$(".design-form__block_style").find("textarea").val("").prop("disabled",!1)):($(".design-form__brand").hide(),$(".design-form__block_style").removeClass("active"),$(".design-form__block_style").find("input").prop("checked",!1).prop("disabled",!0),$(".design-form__block_style").find("textarea").val("").prop("disabled",!0),checkboxCheck())})}function moreInfo(){$(".product-head__item .button-toggle").on("click",function(e){e.preventDefault(),$(this).parents(".product-head__item").find(".product-head__more-info").toggleClass("active")})}function calculator(){var o,l,n,i="product-calculator__control",c="product-calculator__js-toggle",r="product-calculator__value-input",d=!1,u=!1,p=!1;function h(e,t){var a=e.closest(".product-item").find(".product-price-item span"),s=e.find(".product-calculator__value-input"),o=e.find(".product-calculator__count-input"),l=parseFloat(+o.val()),n=parseFloat(+s.val()),i=parseFloat(o.data("square")),c=parseFloat(o.data("mincount")),r=parseFloat(o.data("price"));"increase"==t?(o.val(l+1).trigger("change"),l=parseFloat(+o.val()),e.hasClass("product-calculator_js-count-calc")?s.val(l):s.val(parseFloat((l*i).toFixed(4)))):"reduce"==t?c<l&&(o.val(l-1).trigger("change"),l=parseFloat(+o.val()),e.hasClass("product-calculator_js-count-calc")?s.val(l):s.val(parseFloat((l*i).toFixed(4)))):"measureChange"==t?e.hasClass("product-calculator_js-count-calc")?s.val(l):s.val(parseFloat((l*i).toFixed(4))):"calculatePrice"==t?e.hasClass("product-calculator_tile")?a.text(parseFloat((r*i*l).toFixed(2))):a.text(parseFloat((l*r).toFixed(2))):"adjustment"==t?l<c?(o.val(c),e.hasClass("product-calculator_js-count-calc")?s.val(c):s.val(parseFloat((c*i).toFixed(4)))):e.hasClass("product-calculator_js-count-calc")?s.val(l):s.val(parseFloat((l*i).toFixed(4))):"calculationTile"==t&&(e.hasClass("product-calculator_js-count-calc")?o.val(Math.ceil(n)).trigger("change"):o.val(Math.ceil(n/i)).trigger("change"))}$(".product-calculator").each(function(){var e=$(this);h(e,"adjustment"),h(e,"calculatePrice")}),$(document).on("touchstart touchend mousedown mouseup change click input mouseout",".product-calculator",function(e){var t=$(e.target),a=$(this);if($(e.target).hasClass(i)||0<$(e.target).parents("."+i).length){var s=function(t){"mousedown"==e.type||"touchstart"==e.type?u||(u=!0,o=setTimeout(function(){d=!0,l=150;n=setTimeout(function e(){45<l&&(l-=5),n=setTimeout(e,l),h(a,t),h(a,"calculatePrice")},l)},300)):"mouseup"!=e.type&&"touchend"!=e.type||p||(p=!0,setTimeout(function(){u=p=!1},100),o=clearTimeout(o),setTimeout(function(){o=clearTimeout(o)},50),n=clearTimeout(n),1==d?d=!1:(h(a,t),h(a,"calculatePrice")))};(t=$(e.target).closest("."+i)).hasClass("product-calculator__plus")?s("increase"):s("reduce")}else $(e.target).hasClass(c)||0<$(e.target).parents("."+c).length?($(e.target).closest("."+c),t=$(e.target).closest("."+c),a.hasClass("product-calculator_tile")&&"click"==e.type&&(t.hasClass("product-calculator__js-toggle_switch")?(a.toggleClass("product-calculator_js-count-calc"),h(a,"measureChange")):t.hasClass("product-calculator__js-toggle_square")?(a.removeClass("product-calculator_js-count-calc"),h(a,"measureChange")):t.hasClass("product-calculator__js-toggle_count")&&(a.addClass("product-calculator_js-count-calc"),h(a,"measureChange")))):($(e.target).hasClass(r)||0<$(e.target).parents("."+r).length)&&($(e.target).closest("."+r),t=$(e.target).closest("."+r),"input"==e.type?(h(a,"calculationTile"),h(a,"calculatePrice")):"change"!=e.type&&"mouseout"!=e.type||(t.blur(),h(a,"adjustment"),h(a,"calculatePrice")))})}function fancybox(){$.fancybox.defaults.btnTpl.close='<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.6 13.6"><path d="M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z"></path></svg></button>',$.fancybox.defaults.btnTpl.arrowLeft='<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 10.14"><path d="M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z"></path></svg></div></button>',$.fancybox.defaults.btnTpl.arrowRight='<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_right" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 10.14"><path d="M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z"></path></svg></div></button>',$.fancybox.defaults.btnTpl.zoom='<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.056 14.096"> <path d="M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"></path> </svg></button>',$.fancybox.defaults.btnTpl.download='<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.24 14"> <path d="M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z"></path> </svg></a>',$.fancybox.defaults.btnTpl.slideShow='<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 13.2"> <path d="M0 0v13.2l11-6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.35 12.5" id="slideshow"><path d="M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z"></path></svg></button>',$.fancybox.defaults.btnTpl.smallBtn='<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.6 13.6"><path d="M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z"></path></svg></button>',$.fancybox.defaults.btnTpl.thumbs='<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.7 12.7" id="slideshow"><path d="M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z"></path></svg></button>',$.fancybox.defaults.i18n.ru={CLOSE:"Закрыть",NEXT:"Следующий слайд",PREV:"Предидущий слайд",ERROR:"Ошибка загрузки, попробуйте позже.",PLAY_START:"Запустить слайд-шоу",PLAY_STOP:"Остановить слайд-шоу",FULL_SCREEN:"Полноэкранный режим",THUMBS:"Миниатюры",DOWNLOAD:"Загрузить",SHARE:"Поделиться",ZOOM:"Увеличить"},$.fancybox.defaults.lang="ru",$.fancybox.defaults.loop=!0,$.fancybox.defaults.autoFocus=!1,$(document).on("afterShow.fb",function(e,t,a){if(0<$(".panorama").length){var s=a.$thumb.prevObject[0].dataset.pano,o=document.getElementById("pano");Ceramic3DPanorama(o,"",s)}})}function inputs(){function e(){$form.each(function(){$(this).find($reset).length&&(0<$(this).find("input:checked").length||$(this).find("input").val()?$(this).find($reset).prop("disabled",!1):$reset.prop("disabled",!0))})}checkboxCheck(),e(),$input.on("change",function(){checkboxCheck(),e()}),$(document).on("input change click",".js-validation",function(e){var t=$(e.target);t.hasClass("js-validation_num-only")&&t.val(t.val().replace(/[^\d,.]*/g,"").replace(/([,.])[,.]+/g,"$1").replace(/^[^\d]*(\d+([.,]\d{0,5})?).*$/g,"$1")),t.hasClass("js-validation_phone")&&!t.hasClass("js-masked")?"click"==e.type&&(t.mask("+7 (999) 999-99-99"),t.focus(),t.addClass("js-masked")):t.hasClass("js-validation_file")&&""!=$(this).val()&&($(this).parents(".input-box").find(".label-loaded").remove(),$(this).parents(".input-box").prepend('<span class="label-loaded">План помещения успешно загружен!</span>'))}),$reset.on("click",function(){setTimeout(function(){checkboxCheck(),e()},100)})}
//# sourceMappingURL=maps/common.min.js.map
