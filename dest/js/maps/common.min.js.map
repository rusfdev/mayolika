{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","filter","resize","innerWidth","scrollTop","window","$checkbox","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","visibleOnly","effect","effectTime","niceScroll","hasClass","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","cursorcolor","$dropdownContainer","flag","$dropdown","on","e","$link","is","target","preventDefault","setTimeout","has","length","parents","removeClass","getNiceScroll","$searchOpen","$searchClose","$search","addClass","$catalogueToggle","$filterToggle","$sectionToggle","$navToggle","toggleClass","doScrollPos","scrollLock","show","checkboxCheck","filterState","each","this","find","prop","val"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  filter();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox'),\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//scroll\r\nfunction scrollInit() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n\r\n  } else {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: \"leave\",\r\n    });\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n        $scrollContainer.getNiceScroll().resize();\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $scrollContainer.getNiceScroll().resize();\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {}\r\n    else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $scrollContainer.getNiceScroll().resize();\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n    $scrollContainer.getNiceScroll().resize();\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>768) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\nfunction filter() {\r\n  var $resetFilter = $('.filter__reset');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $(\".filter input\").on('change', function() {\r\n    filterState();\r\n    checkboxCheck();\r\n    $scrollContainer.getNiceScroll().resize();\r\n  })\r\n\r\n  function checkboxCheck() {\r\n    $checkbox.each(function() {\r\n      if($(this).find('input').prop('checked')) {\r\n        $(this).addClass('checked');\r\n      } else {\r\n        $(this).removeClass('checked');\r\n      }\r\n    })\r\n  }\r\n  function filterState() {\r\n    if($('.filter input:checked').length > 0 || $('.filter input').val()) {\r\n      $('.filter').addClass('active');\r\n    } else {\r\n      $('.filter').removeClass('active');\r\n    }\r\n  }\r\n\r\n  //при клике на сброс фильтров\r\n  $resetFilter.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('.filter').find('input').val(\"\").prop('checked',false);\r\n    checkboxCheck();\r\n    filterState();\r\n    $('.filter-section').removeClass('active');\r\n    $scrollContainer.getNiceScroll().resize();\r\n  })\r\n}"]}