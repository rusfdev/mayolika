{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","aside","inputs","slider","scrollBtnTop","select","gallery","calculator","popup","innerWidth","validation","window","resize","scrollTop","imagesResize","popupCloseTimer","$checkbox","$slider","cursorcolorVar","cursorwidthVar","cursorborderVar","zindexVar","bouncescrollVar","$scrollContainer","cursorborderradiusVar","Lazy","effect","visibleOnly","effectTime","threshold","imageBase","defaultImage","element","afterLoad","parent","boxH","box","boxW","imgH","width","imgW","addClass","removeClass","$btn","fadeIn","setTimeout","each","this","height","hasClass","niceSelect","niceScroll","cursorcolor","cursorwidth","cursorborder","cursorborderradius","setInterval","autohidemode","getNiceScroll","e","preventDefault","doScrollPos","css","on","animate","flag","$link","$dropdownContainer","$dropdown","is","target","has","length","parents","$searchOpen","$searchClose","$search","$catalogueToggle","$filterToggle","$sectionToggle","$navToggle","scrollLock","hide","toggleClass","show","$reset","$input","$form","checkboxCheck","prop","filterState","find","val","slideCount","slideCount1200","slideCount992","slideCount768","slideCount576","arrows","autoplayVar","fadeVar","infinite","slick","speed","sliderSpeed","lazyLoad","adaptiveHeight","centerMode","slidesToShow","slidesToScroll","fade","autoplay","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings","slideCount420","$galleryLink","event","$gallery","pag","activeSlide","index","eq","currentSlide","nextSlide","inputClass","interval","flagStart","actionProcessing","counter","controlClass","flagEnd","block","operation","$price","$hiddenInput","hiddenInputVal","parseFloat","frontInputVal","data","minSquare","Math","ceil","tileSquare","tilePrice","toFixed","minCount","text","$block","clickProcessing","timerToHold","hold","actionType","type","clearTimeout","myFunction","$target","closest","match","substr","lastIndexOf","blur","autoFocus","touch","modalOpen","attr","selector","$selector","backFocus","loop","animationEffect","smallBtn","fancybox","content","timer","open","_$$fancybox$open","_defineProperty","$phoneInput","completed","mask","validate","email","addMethod","value","test","minlength","rules","phone","required","correctPhone","name","messages","jQuery","validator","format","submitHandler","form","close"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  inputs();\r\n  slider();\r\n  scrollBtnTop();\r\n  select();\r\n  gallery();\r\n  moreInfo();\r\n  calculator();\r\n  popup();\r\n  validation();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  imagesResize();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n  scrollBtnTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox'),\r\n$slider = $('.slider'),\r\npopupCloseTimer,\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'fadeIn',\r\n    visibleOnly: true,\r\n    effectTime: 300,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      var box = $(element).parent(),\r\n        boxH = box.height(),\r\n        boxW = box.width(),\r\n        imgH = element.height(),\r\n        imgW = element.width();\r\n\r\n        if ((boxW / boxH) >= (imgW / imgH)) {\r\n          element.addClass('ww').removeClass('wh');\r\n        } else {\r\n          element.addClass('wh').removeClass('ww');\r\n        }\r\n\r\n        element.addClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//scrollTop\r\nfunction scrollBtnTop() {\r\n  var $btn = $('.button_scroll-top');\r\n  if(scrollTop>200) {\r\n    $btn.fadeIn();\r\n  } else {\r\n    $btn.fadeOut();\r\n  }\r\n}\r\n\r\nfunction imagesResize() {\r\n  setTimeout(function() {\r\n    $('img.visible').each(function() {\r\n      var box = $(this).parent(),\r\n      boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = $(this).height(),\r\n      imgW = $(this).width();\r\n  \r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        $(this).addClass('ww').removeClass('wh');\r\n      } else {\r\n        $(this).addClass('wh').removeClass('ww');\r\n      }\r\n    })\r\n  }, 100)\r\n}\r\n\r\n//select\r\nfunction select() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n    return;\r\n  } else {\r\n    $('.select').niceSelect();\r\n  }\r\n}\r\n//scroll\r\nfunction scrollInit() {\r\n  $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n    cursorcolor: cursorcolorVar,\r\n    cursorwidth: cursorwidthVar,\r\n    cursorborder: cursorborderVar,\r\n    cursorborderradius: cursorborderradiusVar,\r\n    zindex: zindexVar,\r\n    bouncescroll: bouncescrollVar,\r\n    autohidemode: \"leave\",\r\n  });\r\n  var timerId = setInterval(function() {\r\n    $scrollContainer.getNiceScroll().resize();\r\n  }, 50);\r\n  \r\n  if ($('html').hasClass('desktop')) {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    var timerId = setInterval(function() {\r\n      $('body').getNiceScroll().resize();\r\n    }, 50);\r\n\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $('body').getNiceScroll().doScrollPos(0,0);\r\n    })\r\n  } else {\r\n    $('html, body').css('overflow', 'auto');\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $(\"html, body\").animate({ scrollTop: 0 }, 500);\r\n    })\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if(!$('html').hasClass('nav-opened')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>992) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\n\r\n//checkboses\r\nfunction inputs() {\r\n  var $reset = $('.form-reset-btn'),\r\n  $input = $('input'),\r\n  $form = $('form');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $input.on('change', function() {\r\n    checkboxCheck();\r\n    filterState();\r\n  })\r\n\r\n  $reset.on('click', function() {\r\n    setTimeout(function() {\r\n      checkboxCheck();\r\n      filterState();\r\n    }, 100)\r\n  })\r\n\r\n  function checkboxCheck() {\r\n    $checkbox.each(function() {\r\n      if($(this).find('input').prop('checked')) {\r\n        $(this).addClass('checked');\r\n      } else {\r\n        $(this).removeClass('checked');\r\n      }\r\n    })\r\n  }\r\n\r\n  function filterState() {\r\n    $form.each(function() {\r\n      if($(this).find($reset).length) {\r\n        if($(this).find('input:checked').length > 0 || $(this).find('input').val()) {\r\n          $(this).find($reset).prop('disabled', false);\r\n        } else {\r\n          $reset.prop('disabled', true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//sliders\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('visible');\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n\r\n    var slideCount = 1,\r\n      slideCount1200 = 1,\r\n      slideCount992 = 1,\r\n      slideCount768 = 1,\r\n      slideCount576 = 1,\r\n      slideCount420 = 1,\r\n      sliderSpeed = 400,\r\n      arrows = true,\r\n      dots = false,\r\n      autoplayVar = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false,\r\n      fadeVar = false;\r\n\r\n    if ($(this).hasClass('main-slider__slider')) {\r\n      fadeVar = true,\r\n      autoplayVar = true;\r\n    }\r\n    if ($(this).hasClass('interesting-items__slider')) {\r\n      slideCount1200 = 3,\r\n      slideCount992 = 3,\r\n      slideCount768 = 2,\r\n      slideCount576 = 1,\r\n      slideCount = 4;\r\n    }\r\n    if ($(this).hasClass('gallery-slider')) {\r\n      arrows = false,\r\n      fadeVar = true\r\n    }\r\n    \r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: sliderSpeed,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      fade: fadeVar,\r\n      autoplay: autoplayVar,\r\n      autoplaySpeed: 3000,\r\n      prevArrow: '<button class=\"slick-prev slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      nextArrow: '<button class=\"slick-next slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      responsive: [{\r\n          breakpoint: 1201,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 993,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 769,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 577,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n\r\n//gallery\r\nfunction gallery() {\r\n  var $gallery = $('.gallery-slider'),\r\n    $galleryLink = $('.gallery-nav__link'),\r\n    activeSlide;\r\n\r\n    $gallery.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 400)\r\n    });\r\n\r\n  $galleryLink.on('click', function(event) {\r\n    event.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $gallery.slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $gallery.find('.slick-active').index();\r\n    $galleryLink.removeClass('active');\r\n    $('.gallery-nav__item').eq(activeSlide).find($galleryLink).addClass('active');\r\n  }\r\n}\r\n\r\n//more \r\nfunction moreInfo() {\r\n  var $buttonToggle = $('.product-head__item .button-toggle');\r\n\r\n  $buttonToggle.on('click', function(event) {\r\n    event.preventDefault();\r\n    $(this).parents('.product-head__item').find('.product-head__more-info').toggleClass('active');\r\n  })\r\n}\r\n\r\n//calcutor\r\nfunction calculator() {\r\n  var controlClass = 'product-calculator__control',\r\n      toggleClass = 'product-calculator__js-toggle',\r\n      inputClass = 'product-calculator__value-input',\r\n      timerToHold,\r\n      hold = false,\r\n      counter,\r\n      interval,\r\n      flagStart = false,\r\n      flagEnd = false;\r\n\r\n  $('.product-calculator').each(function() {\r\n    var $block = $(this);\r\n    actionProcessing($block, 'adjustment');\r\n    actionProcessing($block, 'calculatePrice');\r\n  })\r\n  $('.product-calculator').find('.product-calculator__value-input').on('change', function() {\r\n    var $block = $(this).parents('.product-calculator');\r\n    actionProcessing($block, 'adjustment');\r\n    actionProcessing($block, 'calculatePrice');\r\n  })\r\n\r\n  $(document).on('touchstart touchend mousedown mouseup click input mouseout', '.product-calculator', function(e) {\r\n    var $target = $(e.target),\r\n        $block = $(this);\r\n    \r\n    //если жмем плюс или минус\r\n    if($(e.target).hasClass(controlClass) || $(e.target).parents('.' + controlClass).length > 0) {\r\n      $target = $(e.target).closest('.' + controlClass);\r\n      if ($target.hasClass('product-calculator__plus')) {\r\n        clickProcessing('increase');\r\n      }\r\n      else {\r\n        clickProcessing('reduce');\r\n      }\r\n      //\r\n      function clickProcessing(actionType) {\r\n        if(e.type == 'mousedown' || e.type == 'touchstart') {\r\n          if (!flagStart) {\r\n            flagStart = true;\r\n\r\n            timerToHold = setTimeout(function() {\r\n              hold = true;\r\n              counter = 150;\r\n\r\n              var myFunction = function() {\r\n                if(counter > 45) {\r\n                  counter = counter - 5;\r\n                }\r\n                interval = setTimeout(myFunction, counter);\r\n                actionProcessing($block, actionType);\r\n                actionProcessing($block, 'calculatePrice');\r\n              }\r\n              interval = setTimeout(myFunction, counter);\r\n\r\n            }, 300)\r\n          }\r\n        }\r\n        else if(e.type == 'mouseup' || e.type == 'touchend') {\r\n          if (!flagEnd) {\r\n            flagEnd = true;\r\n            setTimeout(function(){ flagEnd = false; flagStart = false }, 100);\r\n\r\n            timerToHold = clearTimeout(timerToHold);\r\n            setTimeout(function(){ timerToHold = clearTimeout(timerToHold); }, 50);\r\n            interval = clearTimeout(interval);\r\n            if(hold == true) {\r\n              hold = false;\r\n            } else {\r\n              actionProcessing($block, actionType);\r\n              actionProcessing($block, 'calculatePrice');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если меняем велечину\r\n    else if($(e.target).hasClass(toggleClass) || $(e.target).parents('.' + toggleClass).length > 0) {\r\n      $(e.target).closest('.' + toggleClass);\r\n      $target = $(e.target).closest('.' + toggleClass);\r\n      if(e.type == 'click') {\r\n        if ($target.hasClass('product-calculator__js-toggle_switch')) {\r\n          $block.toggleClass('product-calculator_js-count-calc');\r\n          actionProcessing($block, 'measureChange');\r\n        } else if($target.hasClass('product-calculator__js-toggle_square')){\r\n          $block.removeClass('product-calculator_js-count-calc');\r\n          actionProcessing($block, 'measureChange');\r\n        } else if($target.hasClass('product-calculator__js-toggle_count')) {\r\n          $block.addClass('product-calculator_js-count-calc');\r\n          actionProcessing($block, 'measureChange');\r\n        }\r\n      }\r\n    }\r\n    //если ввод инпут\r\n    else if($(e.target).hasClass(inputClass) || $(e.target).parents('.' + inputClass).length > 0) {\r\n      $(e.target).closest('.' + inputClass);\r\n      $target = $(e.target).closest('.' + inputClass);\r\n      if(e.type == 'input') {\r\n        $target.val($target.val().replace(/[^\\d\\.]/g, \"\"));\r\n        actionProcessing($block, 'calculationTile');\r\n        actionProcessing($block, 'calculatePrice');\r\n        if($target.val().match(/\\./g).length > 1) {\r\n          $target.val($target.val().substr(0, $target.val().lastIndexOf(\".\")));\r\n          actionProcessing($block, 'calculationTile');\r\n          actionProcessing($block, 'calculatePrice');\r\n        }\r\n      } else if(e.type == 'mouseout') {\r\n        $target.blur();\r\n        actionProcessing($block, 'adjustment');\r\n        actionProcessing($block, 'calculatePrice');\r\n      }\r\n    }\r\n  })\r\n\r\n  //functions\r\n  function actionProcessing(block, operation) {{\r\n    var $price = block.find('.product-calculator__total-price'),\r\n        $input = block.find('.product-calculator__value-input'),\r\n        $hiddenInput = block.find('.product-calculator__count-input'),\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val()),\r\n        frontInputVal = parseFloat(+$input.val()),\r\n        tileSquare = parseFloat($hiddenInput.data('square')),\r\n        minSquare = parseFloat((Math.ceil($hiddenInput.data('minsquare')/tileSquare) * tileSquare)),\r\n        minCount = parseFloat(Math.ceil(minSquare/tileSquare)),\r\n        tilePrice = parseFloat($hiddenInput.data('price'));\r\n    if(operation == 'increase') {\r\n      $hiddenInput.val(hiddenInputVal + 1);\r\n      hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n      if(block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'reduce') {\r\n      if (hiddenInputVal>minCount) {\r\n        $hiddenInput.val(hiddenInputVal - 1);\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n        if($(block).hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'measureChange') {\r\n      if($(block).hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'calculatePrice') {\r\n      $price.text(parseFloat((((hiddenInputVal*tileSquare).toFixed(2))*tilePrice).toFixed(2)));\r\n    } else if (operation == 'adjustment') {      \r\n      //количество\r\n      if($(block).hasClass('product-calculator_js-count-calc')) {\r\n        if(minCount > frontInputVal) {\r\n          $hiddenInput.val(minCount);\r\n          $input.val(minCount);\r\n        } else {\r\n          $input.val(hiddenInputVal);\r\n        }\r\n      }\r\n      //площадь\r\n       else {\r\n        if(minSquare > frontInputVal) {\r\n          $hiddenInput.val(minCount);\r\n          $input.val(parseFloat(minSquare.toFixed(2)));\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal*tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'calculationTile') {\r\n      if(block.hasClass('product-calculator_js-count-calc')) {\r\n        $hiddenInput.val(Math.ceil(frontInputVal));\r\n      } else {\r\n        $hiddenInput.val(Math.ceil(frontInputVal/tileSquare));\r\n      }\r\n    }\r\n  }}\r\n}\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").on('click', function() {\r\n    var content = $($(this).attr('href'));\r\n    modalOpen(content, false);\r\n  })\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery-slide a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n}\r\n\r\nfunction modalOpen(content, timer) {\r\n  $.fancybox.open( content, {\r\n      autoFocus: false,\r\n      loop: false,\r\n      autoFocus: false,\r\n      type: 'html',\r\n      smallBtn: true,\r\n      touch: false,\r\n      btnTpl: {\r\n        smallBtn:\r\n        '<button type=\"button\" data-fancybox-close class=\"button button_style2 button-toggle fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n        '<svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" stroke=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.115 1.49L12.689.118 7.193 5.819 1.491.323.117 1.748 5.82 7.244.323 12.947l1.426 1.373 5.496-5.702 5.702 5.496 1.374-1.425-5.702-5.496 5.496-5.702z\"></path></svg>' +\r\n        \"</button>\"\r\n      },\r\n      afterClose: function() {\r\n        if(timer==true) {\r\n          popupCloseTimer = clearTimeout(popupCloseTimer);\r\n        } \r\n        return;\r\n      }\r\n  });\r\n}\r\n\r\n//validate\r\nfunction validation() {\r\n  var $phoneInput = $('input[name=\"phone\"]'),\r\n      $form = $(\".validate-form\");\r\n\r\n  if($form.length > 0) {\r\n    function succes(form) {\r\n      $(form).find('.input').val('');\r\n      if($(form).parents('.popup').length > 0) {\r\n        $.fancybox.close();\r\n      }\r\n      modalOpen($('<div class=\"popup popup-succes fancybox-content\" id=\"popup-succes\" style=\"display: none;\"> <div class=\"popup-succes__container\"> <div class=\"popup-succes__icon popup-succes__item\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon20\"></use></svg></div><div class=\"popup-succes__text\">Благодарим за Вашу заявку. </div><div class=\"popup-succes__text\">Наш дизайнер свяжется с вами в ближайшее время</div><a class=\"button button_style1 popup-succes__close\" href=\"#\" data-fancybox-close=\"\">Закрыть</a> </div><button type=\"button\" data-fancybox-close=\"\" class=\"button button_style2 button-toggle fancybox-button fancybox-close-small\" title=\"Close\"><svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" stroke=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.115 1.49L12.689.118 7.193 5.819 1.491.323.117 1.748 5.82 7.244.323 12.947l1.426 1.373 5.496-5.702 5.702 5.496 1.374-1.425-5.702-5.496 5.496-5.702z\"></path></svg></button></div>'), true);\r\n      popupCloseTimer = setTimeout(function() {\r\n        $.fancybox.close();\r\n      }, 3000)\r\n    }\r\n  \r\n    $phoneInput.mask(\"+7 (999) 999-99-99\", {completed:function(){$form.validate().element($phoneInput)}});\r\n  \r\n    $phoneInput.on('keyup', function() {\r\n      if($(this).hasClass('error')) {\r\n        $form.validate().element($phoneInput);\r\n      }\r\n    })\r\n    \r\n    jQuery.validator.addMethod(\"correctPhone\", function(value, element){\r\n      if (/^(?!_$)([+]{1}[0-9]{1} [(]{1}[0-9]{3}[)]{1} [0-9]{3}[-]{1}[0-9]{2}[-]{1}[0-9]{2})$/.test(value)) {\r\n          return true;  \r\n      } else {\r\n          return false;   \r\n      };\r\n    }); \r\n  \r\n    $form.validate({\r\n      rules: {\r\n        email: {\r\n          required: true,\r\n          email: true\r\n        },\r\n        name: {\r\n          required: true,\r\n          minlength: 2 \r\n        },\r\n        text: {\r\n          required: true,\r\n          minlength: 5 \r\n        },\r\n        phone: {\r\n          required: true,\r\n          correctPhone: true\r\n        }\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          email: jQuery.validator.format(\"Введите корректный адрес электронной почты\")\r\n        },\r\n        name: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          minlength: jQuery.validator.format(\"Длина имени должна быть больше 1-го символa\")\r\n        },\r\n        text: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          minlength: jQuery.validator.format(\"Текст сообщения не должен быть короче 5-ти символов\")\r\n        },\r\n        phone: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          correctPhone: jQuery.validator.format(\"Укажите корректный номер телефона\")\r\n        }\r\n      },\r\n       submitHandler: function(form) {\r\n  \r\n        /*\r\n        var form_data = $(form).serialize();\r\n        $.ajax({\r\n        type: \"POST\",\r\n        url: \"send.php\",\r\n        data: form_data,\r\n        success: function() {\r\n          succes(form);\r\n        }\r\n        });\r\n        */\r\n  \r\n       //временно\r\n       succes(form);\r\n      }\r\n    });\r\n  }\r\n}"]}