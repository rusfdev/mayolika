{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","aside","inputs","slider","scrollBtnTop","select","gallery","moreInfo","calculator","fancybox","validation","designForm","innerWidth","window","resize","this","on","scrollTop","popupCloseTimer","$checkbox","$slider","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","effect","Lazy","visibleOnly","effectTime","threshold","imageBase","defaultImage","afterLoad","imagesResize","element","$btn","fadeIn","fadeOut","box","parent","hasClass","addClass","height","boxH","setTimeout","imgH","imgW","removeClass","niceScroll","cursorcolor","cursorwidth","cursorwidthVar","cursorborder","bouncescroll","autohidemode","timerId","setInterval","getNiceScroll","cursorborderradius","e","preventDefault","doScrollPos","css","flag","$link","$dropdownContainer","$dropdown","target","is","has","length","parents","$searchClose","$search","$searchOpen","$filterToggle","$sectionToggle","$navToggle","$catalogueToggle","scrollLock","hide","toggleClass","show","val","replace","$reset","$input","$form","filterState","each","find","prop","checkboxCheck","numChange","remove","attr","slideCount","slideCount576","slideCount1200","slideCount992","slideCount768","arrows","adaptiveHeight","autoplayVar","fadeVar","dots","centerMode","slidesToShow","slidesToScroll","fade","autoplay","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings","$gallery","$galleryLink","index","activeSlide","slick","pag","$tabLink","$tabItem","event","currentSlide","nextSlide","designTab","$roomTabLink","$stateToggleBtn","tabChange","eq","$roomTabItem","controlClass","actionProcessing","timerToHold","hold","clickProcessing","inputClass","flagStart","counter","flagEnd","$block","operation","$price","hiddenInputVal","$totalPrice","parseFloat","$hiddenInput","frontInputVal","minCount","data","price","items","tileSquare","toFixed","text","Math","other","ceil","i","$orderPrice","defaults","btnTpl","interval","$target","actionType","clearTimeout","myFunction","closest","type","console","blur","CLOSE","NEXT","close","PLAY_START","arrowLeft","THUMBS","arrowRight","ZOOM","zoom","loop","download","slideShow","getElementById","thumbs","i18n","ru","PREV","ERROR","PLAY_STOP","FULL_SCREEN","DOWNLOAD","SHARE","form","lang","instance","slide","$thumb","prevObject","dataset","pano","src","c","path","touch","$content","$phoneInput","mask","location","completed","validate","validator","addMethod","value","test","methods","required","addClassRules","req","rules","email","correctPhone","payment","phone","personalData","jQuery","format","submitHandler","succes","open","smallBtn","href"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  inputs();\r\n  slider();\r\n  scrollBtnTop();\r\n  select();\r\n  gallery();\r\n  moreInfo();\r\n  calculator();\r\n  fancybox();\r\n  validation();\r\n  designTab();\r\n  designForm();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  $('img').each(function() {\r\n    imagesResize($(this))\r\n  });\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n  scrollBtnTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox, .radio'),\r\n$slider = $('.slider'),\r\npopupCloseTimer,\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'fadeIn',\r\n    visibleOnly: true,\r\n    effectTime: 300,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      imagesResize(element);\r\n    }\r\n  });\r\n}\r\n\r\n//scrollTop\r\nfunction scrollBtnTop() {\r\n  var $btn = $('.button_scroll-top');\r\n  if(scrollTop>200) {\r\n    $btn.fadeIn(200);\r\n  } else {\r\n    $btn.fadeOut(200);\r\n  }\r\n}\r\n\r\nfunction imagesResize(element) {\r\n  var box = element.parent();\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    var boxH = box.height(),\r\n        boxW = box.width();\r\n    setTimeout(function() {\r\n      var imgH = element.height(),\r\n          imgW = element.width();\r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n      element.addClass('ww').removeClass('wh');\r\n      } else {\r\n        element.addClass('wh').removeClass('ww');\r\n      }\r\n      element.addClass('visible');\r\n    }, 100)\r\n  } else {\r\n    element.addClass('visible');\r\n  }\r\n}\r\n\r\n//select\r\nfunction select() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n    return;\r\n  } else {\r\n    $('.select').niceSelect();\r\n  }\r\n}\r\n//scroll\r\nfunction scrollInit() {\r\n  $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n    cursorcolor: cursorcolorVar,\r\n    cursorwidth: cursorwidthVar,\r\n    cursorborder: cursorborderVar,\r\n    cursorborderradius: cursorborderradiusVar,\r\n    zindex: zindexVar,\r\n    bouncescroll: bouncescrollVar,\r\n    autohidemode: \"leave\",\r\n  });\r\n  var timerId = setInterval(function() {\r\n    $scrollContainer.getNiceScroll().resize();\r\n  }, 50);\r\n  \r\n  if ($('html').hasClass('desktop')) {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    var timerId = setInterval(function() {\r\n      $('body').getNiceScroll().resize();\r\n    }, 50);\r\n\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $('body').getNiceScroll().doScrollPos(0,0);\r\n    })\r\n  } else {\r\n    $('html, body').css('overflow', 'auto');\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $(\"html, body\").animate({ scrollTop: 0 }, 500);\r\n    })\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if(!$('html').hasClass('nav-opened')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>992) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\nfunction numChange(target) {\r\n  target.val(target.val()\r\n    .replace(/[^\\d,.]*/g, '')\r\n    .replace(/([,.])[,.]+/g, '$1')\r\n    .replace(/^[^\\d]*(\\d+([.,]\\d{0,5})?).*$/g, '$1')\r\n  )\r\n}\r\n\r\n//checkboses\r\nfunction inputs() {\r\n  var $reset = $('.reset-btn'),\r\n  $input = $('input'),\r\n  $form = $('form');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $input.on('change', function() {\r\n    checkboxCheck();\r\n    filterState();\r\n  })\r\n  $input.on('input', function() {\r\n    if($(this).hasClass('input_number')) {\r\n      numChange($(this));\r\n    }\r\n  })\r\n  $('input[type=\"file\"]').on('input', function() {\r\n    if($(this).val() != '') {\r\n      $(this).parents('.input-box').find('.label-loaded').remove();\r\n      $(this).parents('.input-box').prepend('<span class=\"label-loaded\">План помещения успешно загружен!</span>');\r\n    }\r\n  })\r\n\r\n\r\n\r\n  $reset.on('click', function() {\r\n    setTimeout(function() {\r\n      checkboxCheck();\r\n      filterState();\r\n    }, 100)\r\n  })\r\n\r\n  function filterState() {\r\n    $form.each(function() {\r\n      if($(this).find($reset).length) {\r\n        if($(this).find('input:checked').length > 0 || $(this).find('input').val()) {\r\n          $(this).find($reset).prop('disabled', false);\r\n        } else {\r\n          $reset.prop('disabled', true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction checkboxCheck() {\r\n  $checkbox.each(function() {\r\n    if($(this).find('input').prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else if($('#' + $(this).attr('for')).prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else {\r\n      $(this).removeClass('checked');\r\n    }\r\n  })\r\n}\r\n\r\n//sliders\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('visible');\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n\r\n    var slideCount = 1,\r\n      slideCount1200 = 1,\r\n      slideCount992 = 1,\r\n      slideCount768 = 1,\r\n      slideCount576 = 1,\r\n      slideCount420 = 1,\r\n      sliderSpeed = 300,\r\n      arrows = true,\r\n      dots = false,\r\n      autoplayVar = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false,\r\n      fadeVar = false;\r\n\r\n    if ($(this).hasClass('main-banner__slider')) {\r\n      fadeVar = true;\r\n      autoplayVar = true;\r\n    }\r\n    if ($(this).hasClass('interesting-items__slider')) {\r\n      slideCount1200 = 3,\r\n      slideCount992 = 3,\r\n      slideCount768 = 2,\r\n      slideCount576 = 1,\r\n      slideCount = 4;\r\n    }\r\n    if ($(this).hasClass('product-slider')) {\r\n      arrows = false,\r\n      fadeVar = true\r\n    }\r\n    if ($(this).hasClass('design-tab__slider')) {\r\n      fadeVar = true;\r\n    }\r\n    \r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: sliderSpeed,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      fade: fadeVar,\r\n      autoplay: autoplayVar,\r\n      autoplaySpeed: 3000,\r\n      prevArrow: '<button class=\"slick-prev slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      nextArrow: '<button class=\"slick-next slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      responsive: [{\r\n          breakpoint: 1201,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 993,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 769,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 577,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n\r\n//gallery\r\nfunction gallery() {\r\n  var $gallery = $('.product-slider'),\r\n    $galleryLink = $('.product-slider-nav__item a'),\r\n    activeSlide;\r\n\r\n    $gallery.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n  $galleryLink.on('click', function(event) {\r\n    event.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $gallery.slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $gallery.find('.slick-active').index();\r\n    $galleryLink.removeClass('active');\r\n    $('.product-slider-nav__item').eq(activeSlide).find($galleryLink).addClass('active');\r\n  }\r\n}\r\n//\r\nfunction designTab() {\r\n  var $tabItem = $('.design-tab'),\r\n    $tabLink = $('.design-info__nav-item .button');\r\n\r\n  $tabItem.not(':first-child').hide();\r\n\r\n  $tabLink.on('click', function(e) {\r\n    e.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $tabLink.removeClass('active');\r\n    $(this).addClass('active');\r\n    $tabItem.hide().eq(index).fadeIn(300);\r\n    lazy();\r\n  })\r\n\r\n}\r\nfunction designForm() {\r\n  var $roomTabLink = $('.design-form__head-section .content'),\r\n      $roomTabItem = $('.design-form__tab'),\r\n      $stateToggleBtn = $('.design-form__toggle-section .button'),\r\n      index = 0;\r\n\r\n      tabChange(index)\r\n\r\n      $roomTabLink.on('click', function(e) {\r\n        e.preventDefault();\r\n        index = $(this).parent().index();\r\n        $roomTabLink.removeClass('active');\r\n        tabChange(index)\r\n      })\r\n      $stateToggleBtn.on('click', function(e) {\r\n        e.preventDefault();\r\n        $stateToggleBtn.removeClass('active');\r\n        $(this).addClass('active');\r\n        if($(this).hasClass('button_toggle_state2')) {\r\n          $('.design-form__brand').show();\r\n          $('.design-form__block_style').addClass('active');\r\n          $('.design-form__block_style').find('input').prop('disabled', false);\r\n          $('.design-form__block_style').find('textarea').val('').prop('disabled', false);\r\n        } else {\r\n          $('.design-form__brand').hide();\r\n          $('.design-form__block_style').removeClass('active');\r\n          $('.design-form__block_style').find('input').prop('checked', false).prop('disabled', true);\r\n          $('.design-form__block_style').find('textarea').val('').prop('disabled', true);\r\n          checkboxCheck();\r\n        }\r\n      })\r\n\r\n      function tabChange(index) {\r\n        $roomTabLink.removeClass('active');\r\n        $roomTabLink.parent().eq(index).find($roomTabLink).addClass('active');\r\n        $roomTabItem.removeClass('active');\r\n        $roomTabItem.find('input').prop('checked', false).prop('disabled', true);\r\n        $roomTabItem.eq(index).find('input').prop('disabled', false);\r\n        $roomTabItem.eq(index).addClass('active');\r\n        checkboxCheck();\r\n      }\r\n      \r\n\r\n\r\n}\r\n\r\n//more \r\nfunction moreInfo() {\r\n  var $buttonToggle = $('.product-head__item .button-toggle');\r\n\r\n  $buttonToggle.on('click', function(event) {\r\n    event.preventDefault();\r\n    $(this).parents('.product-head__item').find('.product-head__more-info').toggleClass('active');\r\n  })\r\n}\r\n\r\n//calcutor\r\nfunction calculator() {\r\n  var controlClass = 'product-calculator__control',\r\n      toggleClass = 'product-calculator__js-toggle',\r\n      inputClass = 'product-calculator__value-input',\r\n      timerToHold,\r\n      hold = false,\r\n      counter,\r\n      interval,\r\n      flagStart = false,\r\n      flagEnd = false;\r\n\r\n  $('.product-calculator').each(function() {\r\n    var $block = $(this);\r\n    actionProcessing($block, 'adjustment');\r\n    actionProcessing($block, 'calculatePrice');\r\n    actionProcessing($block, 'totalPrice');\r\n  })\r\n\r\n  $(document).on('touchstart touchend mousedown mouseup click input mouseout', '.product-calculator', function(e) {\r\n    var $target = $(e.target),\r\n        $block = $(this);\r\n    \r\n    //если жмем плюс или минус\r\n    if($(e.target).hasClass(controlClass) || $(e.target).parents('.' + controlClass).length > 0) {\r\n      $target = $(e.target).closest('.' + controlClass);\r\n      if ($target.hasClass('product-calculator__plus')) {\r\n        clickProcessing('increase');\r\n      }\r\n      else {\r\n        clickProcessing('reduce');\r\n      }\r\n      //\r\n      function clickProcessing(actionType) {\r\n        if(e.type == 'mousedown' || e.type == 'touchstart') {\r\n          if (!flagStart) {\r\n            flagStart = true;\r\n\r\n            timerToHold = setTimeout(function() {\r\n              hold = true;\r\n              counter = 150;\r\n\r\n              var myFunction = function() {\r\n                if(counter > 45) {\r\n                  counter = counter - 5;\r\n                }\r\n                interval = setTimeout(myFunction, counter);\r\n                actionProcessing($block, actionType);\r\n                actionProcessing($block, 'calculatePrice');\r\n                actionProcessing($block, 'totalPrice');\r\n              }\r\n              interval = setTimeout(myFunction, counter);\r\n            }, 300)\r\n          }\r\n        }\r\n        else if(e.type == 'mouseup' || e.type == 'touchend') {\r\n          if (!flagEnd) {\r\n            flagEnd = true;\r\n            setTimeout(function(){ flagEnd = false; flagStart = false }, 100);\r\n\r\n            timerToHold = clearTimeout(timerToHold);\r\n            setTimeout(function(){ timerToHold = clearTimeout(timerToHold); }, 50);\r\n            interval = clearTimeout(interval);\r\n            if(hold == true) {\r\n              hold = false;\r\n            } else {\r\n              actionProcessing($block, actionType);\r\n              actionProcessing($block, 'calculatePrice');\r\n              actionProcessing($block, 'totalPrice');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если меняем велечину\r\n    else if($(e.target).hasClass(toggleClass) || $(e.target).parents('.' + toggleClass).length > 0) {\r\n      $(e.target).closest('.' + toggleClass);\r\n      $target = $(e.target).closest('.' + toggleClass);\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        if(e.type == 'click') {\r\n          if ($target.hasClass('product-calculator__js-toggle_switch')) {\r\n            $block.toggleClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_square')){\r\n            $block.removeClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_count')) {\r\n            $block.addClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если ввод инпут\r\n    else if($(e.target).hasClass(inputClass) || $(e.target).parents('.' + inputClass).length > 0) {\r\n      $(e.target).closest('.' + inputClass);\r\n      $target = $(e.target).closest('.' + inputClass);\r\n      if(e.type == 'input') {\r\n        numChange($target);\r\n        actionProcessing($block, 'calculationTile');\r\n        actionProcessing($block, 'calculatePrice');\r\n        actionProcessing($block, 'totalPrice');\r\n        $target.on('change', function() {\r\n          console.log('change')\r\n          actionProcessing($block, 'adjustment');\r\n          actionProcessing($block, 'calculatePrice');\r\n          actionProcessing($block, 'totalPrice');\r\n        })\r\n      } else if(e.type == 'mouseout') {\r\n        $target.blur();\r\n      }\r\n    }\r\n  })\r\n\r\n  //functions\r\n  function actionProcessing($block, operation) {{\r\n    var $price = $block.closest('.product-item').find('.product-price-item span'),\r\n        $orderPrice = $block.parents('.cart-form_with-total-price-count').find('.order-price span'),\r\n        $totalPrice = $block.parents('.cart-form_with-total-price-count').find('.total-price span'),\r\n        $input = $block.find('.product-calculator__value-input'),\r\n        $hiddenInput = $block.find('.product-calculator__count-input'),\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val()),\r\n        frontInputVal = parseFloat(+$input.val()),\r\n        tileSquare = parseFloat($hiddenInput.data('square')),\r\n        minCount = parseFloat($hiddenInput.data('mincount')),\r\n        price = parseFloat($hiddenInput.data('price')),\r\n        items = 0,\r\n        other = 0;\r\n\r\n    if(operation == 'increase') {\r\n      $hiddenInput.val(hiddenInputVal + 1);\r\n      hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'reduce') {\r\n      if (hiddenInputVal>minCount) {\r\n        $hiddenInput.val(hiddenInputVal - 1);\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'measureChange') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'calculatePrice') {\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        $price.text(parseFloat((((hiddenInputVal*tileSquare).toFixed(2))*price).toFixed(2)));\r\n      } else {\r\n        $price.text(parseFloat((hiddenInputVal*price).toFixed(2)));\r\n      }\r\n    } else if (operation == 'adjustment') {\r\n      if(minCount > hiddenInputVal) {\r\n        $hiddenInput.val(minCount);\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(minCount);\r\n        } else {\r\n          $input.val(parseFloat((minCount * tileSquare).toFixed(2)));\r\n        }\r\n      } else {\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal*tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'calculationTile') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $hiddenInput.val(Math.ceil(frontInputVal));\r\n      } else {\r\n        $hiddenInput.val(Math.ceil(frontInputVal/tileSquare));\r\n      }\r\n    } else if (operation == 'totalPrice') {\r\n      $('.product-price-item span').each(function(i, element) {\r\n        items = items + parseFloat($(element).text());\r\n      })\r\n      $totalPrice.text(parseFloat(items.toFixed(2)));\r\n      if($orderPrice.length > 0) {\r\n        if($('.product-price-other span').length > 0) {\r\n          $('.product-price-other span').each(function(i, element) {\r\n            other = other + parseFloat($(element).text());\r\n          })\r\n        }\r\n        $orderPrice.text(parseFloat((items + other).toFixed(2)));\r\n      }\r\n    }\r\n  }}\r\n}\r\n//popup\r\nfunction fancybox() {\r\n  $.fancybox.defaults.btnTpl.close = '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowLeft = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowRight = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.zoom = '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.056 14.096\"> <path d=\"M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"></path> </svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.download = '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.24 14\"> <path d=\"M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z\"></path> </svg>' +\r\n  \"</a>\";\r\n  $.fancybox.defaults.btnTpl.slideShow = '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11 13.2\"> <path d=\"M0 0v13.2l11-6.6z\"></path></svg>' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 7.35 12.5\" id=\"slideshow\"><path d=\"M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.smallBtn = '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.thumbs = '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.7 12.7\" id=\"slideshow\"><path d=\"M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.i18n.ru = {\r\n    CLOSE       : 'Закрыть',\r\n    NEXT        : 'Следующий слайд',\r\n    PREV        : 'Предидущий слайд',\r\n    ERROR       : 'Ошибка загрузки, попробуйте позже.',\r\n    PLAY_START  : 'Запустить слайд-шоу',\r\n    PLAY_STOP   : 'Остановить слайд-шоу',\r\n    FULL_SCREEN : 'Полноэкранный режим',\r\n    THUMBS      : 'Миниатюры',\r\n    DOWNLOAD    : 'Загрузить',\r\n    SHARE       : 'Поделиться',\r\n    ZOOM        : 'Увеличить'\r\n  };\r\n  $.fancybox.defaults.lang = 'ru';\r\n  $.fancybox.defaults.loop = true;\r\n  $.fancybox.defaults.autoFocus = false;\r\n\r\n  $(document).on('afterShow.fb', function( e, instance, slide ) {\r\n    var $pano = $('.panorama');\r\n    if($pano.length > 0) {\r\n      var path = slide.$thumb.prevObject[0].dataset.pano,\r\n          c = document.getElementById(\"pano\");\r\n      Ceramic3DPanorama(c,'',path);\r\n    }\r\n    if($(slide.$content).hasClass('popup')) {\r\n      validation();\r\n    }\r\n  });\r\n}\r\n\r\n//validate\r\nfunction validation() {\r\n  var $phoneInput = $('input[name=\"phone\"]'),\r\n      $form = $(\".validate-form\");\r\n\r\n  if($form.length > 0) {  \r\n    $phoneInput.mask(\"+7 (999) 999-99-99\", {completed:function(){$form.validate().element($phoneInput)}});  \r\n    $phoneInput.on('keyup', function() {\r\n      if($(this).hasClass('error')) {\r\n        $form.validate().element($phoneInput);\r\n      }\r\n    })\r\n    \r\n    $.validator.addMethod(\"correctPhone\", function(value, element){\r\n      if (/^\\s*$/.test(value) || /^(?!_$)([+]{1}[0-9]{1} [(]{1}[0-9]{3}[)]{1} [0-9]{3}[-]{1}[0-9]{2}[-]{1}[0-9]{2})$/.test(value)) {\r\n          return true;  \r\n      } else {\r\n          return false;   \r\n      };\r\n    });\r\n\r\n    $.validator.addMethod(\"req\", $.validator.methods.required,\r\n    \"Пожалуйста, заполните это поле\");\r\n\r\n    $.validator.addClassRules(\"required\", { req: true});\r\n\r\n    $form.validate({\r\n      rules: {\r\n        email: {\r\n          email: true\r\n        },\r\n        phone: {\r\n          correctPhone: true\r\n        },\r\n        personalData: {\r\n          required: true\r\n        },\r\n        payment: {\r\n          required: true\r\n        }\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          email: jQuery.validator.format(\"Введите корректный адрес электронной почты\")\r\n        },\r\n        payment: {\r\n          required: \"Пожалуйста, выберите способ оплаты\",\r\n        },\r\n        personalData: {\r\n          required: \"Согласие обязательно для продолжения\",\r\n        },\r\n        phone: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          correctPhone: jQuery.validator.format(\"Укажите корректный номер телефона\")\r\n        }\r\n      },\r\n      submitHandler: function(form) {\r\n        //отправка формы\r\n        //если отправка успешна\r\n        succes(form);\r\n      }\r\n    });\r\n\r\n    function succes(form) {\r\n      if($(form).hasClass('contact-form')) {\r\n        //очистка полей формы\r\n        $(form).find('.input').val('');\r\n        //Если форма во всплывающем окне - закрыть окно\r\n        if($(form).parents('.popup').length > 0) {\r\n          $.fancybox.close();\r\n        }\r\n        //показать окно благодарности \r\n        $.fancybox.open({\r\n          type: 'ajax',\r\n          src: '../popup-succes.html',\r\n          smallBtn: true,\r\n          touch: false\r\n        });\r\n        //закрыть автоматически чрез 3 сек\r\n        popupCloseTimer = setTimeout(function() {\r\n          $.fancybox.close();\r\n        }, 3000)\r\n      }\r\n      //временно\r\n      if($(form).hasClass('cart-form2')) {\r\n        document.location.href = \"cart-stage3.html\";\r\n      } else if($(form).hasClass('cart-form3')) {\r\n        document.location.href = \"cart-stage4.html\";\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}