{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","aside","inputs","slider","scrollBtnTop","select","gallery","moreInfo","calculator","fancybox","validation","designForm","innerWidth","window","resize","each","setTimeout","this","imagesResize","on","scrollTop","popupCloseTimer","$checkbox","$slider","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","effect","Lazy","visibleOnly","effectTime","threshold","imageBase","defaultImage","afterLoad","element","addClass","$btn","fadeIn","fadeOut","box","parent","hasClass","height","boxW","imgH","width","imgW","removeClass","niceSelect","niceScroll","cursorcolor","cursorwidth","cursorborder","cursorborderradius","setInterval","autohidemode","getNiceScroll","e","preventDefault","doScrollPos","css","animate","flag","$link","$dropdownContainer","$dropdown","is","target","has","length","parents","$searchOpen","$searchClose","$search","$catalogueToggle","$filterToggle","$sectionToggle","$navToggle","scrollLock","hide","toggleClass","show","numChange","replace","$reset","$input","$form","filterState","find","prop","val","checkboxCheck","remove","prepend","attr","slideCount","slideCount1200","slideCount420","slideCount992","slideCount768","slideCount576","arrows","autoplayVar","fadeVar","infinite","slick","speed","sliderSpeed","centerMode","slidesToShow","slidesToScroll","fade","autoplay","adaptiveHeight","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings","$gallery","$galleryLink","activeSlide","pag","$tabLink","index","$tabItem","eq","event","currentSlide","nextSlide","designTab","$roomTabLink","$roomTabItem","not","tabChange","$stateToggleBtn","controlClass","inputClass","$buttonToggle","$block","actionProcessing","flagStart","hold","counter","clickProcessing","timerToHold","flagEnd","operation","hiddenInputVal","$orderPrice","parseFloat","$hiddenInput","minCount","data","price","other","tileSquare","toFixed","$price","text","$totalPrice","Math","ceil","frontInputVal","i","items","defaults","btnTpl","interval","$target","type","clearTimeout","myFunction","actionType","closest","console","blur","NEXT","PREV","close","PLAY_STOP","arrowLeft","DOWNLOAD","arrowRight","zoom","autoFocus","slideShow","Ceramic3DPanorama","smallBtn","slide","$content","i18n","ru","CLOSE","ERROR","PLAY_START","FULL_SCREEN","THUMBS","SHARE","ZOOM","lang","instance","open","$thumb","prevObject","dataset","pano","src","getElementById","c","path","$phoneInput","location","mask","completed","validate","validator","addMethod","value","test","methods","required","addClassRules","req","rules","phone","email","correctPhone","payment","format","messages","jQuery","submitHandler","form","touch","href"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  inputs();\r\n  slider();\r\n  scrollBtnTop();\r\n  select();\r\n  gallery();\r\n  moreInfo();\r\n  calculator();\r\n  fancybox();\r\n  validation();\r\n  designTab();\r\n  designForm();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  setTimeout(function() {\r\n    $('img').each(function() {\r\n      imagesResize($(this))\r\n    });\r\n  }, 100)\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n  scrollBtnTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox, .radio'),\r\n$slider = $('.slider'),\r\npopupCloseTimer,\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'fadeIn',\r\n    visibleOnly: true,\r\n    effectTime: 300,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      imagesResize(element);\r\n      element.addClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//scrollTop\r\nfunction scrollBtnTop() {\r\n  var $btn = $('.button_scroll-top');\r\n  if(scrollTop>200) {\r\n    $btn.fadeIn(200);\r\n  } else {\r\n    $btn.fadeOut(200);\r\n  }\r\n}\r\n\r\nfunction imagesResize(element) {\r\n  var box = element.parent();\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    var boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = element.height(),\r\n      imgW = element.width();\r\n    if ((boxW / boxH) >= (imgW / imgH)) {\r\n      element.addClass('ww').removeClass('wh');\r\n    } else {\r\n      element.addClass('wh').removeClass('ww');\r\n    }\r\n  }\r\n}\r\n\r\n//select\r\nfunction select() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n    return;\r\n  } else {\r\n    $('.select').niceSelect();\r\n  }\r\n}\r\n//scroll\r\nfunction scrollInit() {\r\n  $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n    cursorcolor: cursorcolorVar,\r\n    cursorwidth: cursorwidthVar,\r\n    cursorborder: cursorborderVar,\r\n    cursorborderradius: cursorborderradiusVar,\r\n    zindex: zindexVar,\r\n    bouncescroll: bouncescrollVar,\r\n    autohidemode: \"leave\",\r\n  });\r\n  var timerId = setInterval(function() {\r\n    $scrollContainer.getNiceScroll().resize();\r\n  }, 50);\r\n  \r\n  if ($('html').hasClass('desktop')) {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    var timerId = setInterval(function() {\r\n      $('body').getNiceScroll().resize();\r\n    }, 50);\r\n\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $('body').getNiceScroll().doScrollPos(0,0);\r\n    })\r\n  } else {\r\n    $('html, body').css('overflow', 'auto');\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $(\"html, body\").animate({ scrollTop: 0 }, 500);\r\n    })\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if(!$('html').hasClass('nav-opened')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>992) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\nfunction numChange(target) {\r\n  target.val(target.val()\r\n    .replace(/[^\\d,.]*/g, '')\r\n    .replace(/([,.])[,.]+/g, '$1')\r\n    .replace(/^[^\\d]*(\\d+([.,]\\d{0,5})?).*$/g, '$1')\r\n  )\r\n}\r\n\r\n//checkboses\r\nfunction inputs() {\r\n  var $reset = $('.reset-btn'),\r\n  $input = $('input'),\r\n  $form = $('form');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $input.on('change', function() {\r\n    checkboxCheck();\r\n    filterState();\r\n  })\r\n  $input.on('input', function() {\r\n    if($(this).hasClass('input_number')) {\r\n      numChange($(this));\r\n    }\r\n  })\r\n  $('input[type=\"file\"]').on('input', function() {\r\n    if($(this).val() != '') {\r\n      $(this).parents('.input-box').find('.label-loaded').remove();\r\n      $(this).parents('.input-box').prepend('<span class=\"label-loaded\">План помещения успешно загружен!</span>');\r\n    }\r\n  })\r\n\r\n\r\n\r\n  $reset.on('click', function() {\r\n    setTimeout(function() {\r\n      checkboxCheck();\r\n      filterState();\r\n    }, 100)\r\n  })\r\n\r\n  function filterState() {\r\n    $form.each(function() {\r\n      if($(this).find($reset).length) {\r\n        if($(this).find('input:checked').length > 0 || $(this).find('input').val()) {\r\n          $(this).find($reset).prop('disabled', false);\r\n        } else {\r\n          $reset.prop('disabled', true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction checkboxCheck() {\r\n  $checkbox.each(function() {\r\n    if($(this).find('input').prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else if($('#' + $(this).attr('for')).prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else {\r\n      $(this).removeClass('checked');\r\n    }\r\n  })\r\n}\r\n\r\n//sliders\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('visible');\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n\r\n    var slideCount = 1,\r\n      slideCount1200 = 1,\r\n      slideCount992 = 1,\r\n      slideCount768 = 1,\r\n      slideCount576 = 1,\r\n      slideCount420 = 1,\r\n      sliderSpeed = 300,\r\n      arrows = true,\r\n      dots = false,\r\n      autoplayVar = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false,\r\n      fadeVar = false;\r\n\r\n    if ($(this).hasClass('main-banner__slider')) {\r\n      fadeVar = true;\r\n      autoplayVar = true;\r\n    }\r\n    if ($(this).hasClass('interesting-items__slider')) {\r\n      slideCount1200 = 3,\r\n      slideCount992 = 3,\r\n      slideCount768 = 2,\r\n      slideCount576 = 1,\r\n      slideCount = 4;\r\n    }\r\n    if ($(this).hasClass('product-slider')) {\r\n      arrows = false,\r\n      fadeVar = true\r\n    }\r\n    if ($(this).hasClass('design-tab__slider')) {\r\n      fadeVar = true;\r\n    }\r\n    \r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: sliderSpeed,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      fade: fadeVar,\r\n      autoplay: autoplayVar,\r\n      autoplaySpeed: 3000,\r\n      prevArrow: '<button class=\"slick-prev slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      nextArrow: '<button class=\"slick-next slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      responsive: [{\r\n          breakpoint: 1201,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 993,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 769,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 577,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n\r\n//gallery\r\nfunction gallery() {\r\n  var $gallery = $('.product-slider'),\r\n    $galleryLink = $('.product-slider-nav__item a'),\r\n    activeSlide;\r\n\r\n    $gallery.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n  $galleryLink.on('click', function(event) {\r\n    event.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $gallery.slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $gallery.find('.slick-active').index();\r\n    $galleryLink.removeClass('active');\r\n    $('.product-slider-nav__item').eq(activeSlide).find($galleryLink).addClass('active');\r\n  }\r\n}\r\n//\r\nfunction designTab() {\r\n  var $tabItem = $('.design-tab'),\r\n    $tabLink = $('.design-info__nav-item .button');\r\n\r\n  $tabItem.not(':first-child').hide();\r\n\r\n  $tabLink.on('click', function(e) {\r\n    e.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $tabLink.removeClass('active');\r\n    $(this).addClass('active');\r\n    $tabItem.hide().eq(index).fadeIn(300);\r\n    lazy();\r\n  })\r\n\r\n}\r\nfunction designForm() {\r\n  var $roomTabLink = $('.design-form__head-section .content'),\r\n      $roomTabItem = $('.design-form__tab'),\r\n      $stateToggleBtn = $('.design-form__toggle-section .button'),\r\n      index = 0;\r\n\r\n      tabChange(index)\r\n\r\n      $roomTabLink.on('click', function(e) {\r\n        e.preventDefault();\r\n        index = $(this).parent().index();\r\n        $roomTabLink.removeClass('active');\r\n        tabChange(index)\r\n      })\r\n      $stateToggleBtn.on('click', function(e) {\r\n        e.preventDefault();\r\n        $stateToggleBtn.removeClass('active');\r\n        $(this).addClass('active');\r\n        if($(this).hasClass('button_toggle_state2')) {\r\n          $('.design-form__brand').show();\r\n          $('.design-form__block_style').addClass('active');\r\n          $('.design-form__block_style').find('input').prop('disabled', false);\r\n          $('.design-form__block_style').find('textarea').val('').prop('disabled', false);\r\n        } else {\r\n          $('.design-form__brand').hide();\r\n          $('.design-form__block_style').removeClass('active');\r\n          $('.design-form__block_style').find('input').prop('checked', false).prop('disabled', true);\r\n          $('.design-form__block_style').find('textarea').val('').prop('disabled', true);\r\n          checkboxCheck();\r\n        }\r\n      })\r\n\r\n      function tabChange(index) {\r\n        $roomTabLink.removeClass('active');\r\n        $roomTabLink.parent().eq(index).find($roomTabLink).addClass('active');\r\n        $roomTabItem.removeClass('active');\r\n        $roomTabItem.find('input').prop('checked', false).prop('disabled', true);\r\n        $roomTabItem.eq(index).find('input').prop('disabled', false);\r\n        $roomTabItem.eq(index).addClass('active');\r\n        checkboxCheck();\r\n      }\r\n      \r\n\r\n\r\n}\r\n\r\n//more \r\nfunction moreInfo() {\r\n  var $buttonToggle = $('.product-head__item .button-toggle');\r\n\r\n  $buttonToggle.on('click', function(event) {\r\n    event.preventDefault();\r\n    $(this).parents('.product-head__item').find('.product-head__more-info').toggleClass('active');\r\n  })\r\n}\r\n\r\n//calcutor\r\nfunction calculator() {\r\n  var controlClass = 'product-calculator__control',\r\n      toggleClass = 'product-calculator__js-toggle',\r\n      inputClass = 'product-calculator__value-input',\r\n      timerToHold,\r\n      hold = false,\r\n      counter,\r\n      interval,\r\n      flagStart = false,\r\n      flagEnd = false;\r\n\r\n  $('.product-calculator').each(function() {\r\n    var $block = $(this);\r\n    actionProcessing($block, 'adjustment');\r\n    actionProcessing($block, 'calculatePrice');\r\n    actionProcessing($block, 'totalPrice');\r\n  })\r\n\r\n  $(document).on('touchstart touchend mousedown mouseup click input mouseout', '.product-calculator', function(e) {\r\n    var $target = $(e.target),\r\n        $block = $(this);\r\n    \r\n    //если жмем плюс или минус\r\n    if($(e.target).hasClass(controlClass) || $(e.target).parents('.' + controlClass).length > 0) {\r\n      $target = $(e.target).closest('.' + controlClass);\r\n      if ($target.hasClass('product-calculator__plus')) {\r\n        clickProcessing('increase');\r\n      }\r\n      else {\r\n        clickProcessing('reduce');\r\n      }\r\n      //\r\n      function clickProcessing(actionType) {\r\n        if(e.type == 'mousedown' || e.type == 'touchstart') {\r\n          if (!flagStart) {\r\n            flagStart = true;\r\n\r\n            timerToHold = setTimeout(function() {\r\n              hold = true;\r\n              counter = 150;\r\n\r\n              var myFunction = function() {\r\n                if(counter > 45) {\r\n                  counter = counter - 5;\r\n                }\r\n                interval = setTimeout(myFunction, counter);\r\n                actionProcessing($block, actionType);\r\n                actionProcessing($block, 'calculatePrice');\r\n                actionProcessing($block, 'totalPrice');\r\n              }\r\n              interval = setTimeout(myFunction, counter);\r\n            }, 300)\r\n          }\r\n        }\r\n        else if(e.type == 'mouseup' || e.type == 'touchend') {\r\n          if (!flagEnd) {\r\n            flagEnd = true;\r\n            setTimeout(function(){ flagEnd = false; flagStart = false }, 100);\r\n\r\n            timerToHold = clearTimeout(timerToHold);\r\n            setTimeout(function(){ timerToHold = clearTimeout(timerToHold); }, 50);\r\n            interval = clearTimeout(interval);\r\n            if(hold == true) {\r\n              hold = false;\r\n            } else {\r\n              actionProcessing($block, actionType);\r\n              actionProcessing($block, 'calculatePrice');\r\n              actionProcessing($block, 'totalPrice');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если меняем велечину\r\n    else if($(e.target).hasClass(toggleClass) || $(e.target).parents('.' + toggleClass).length > 0) {\r\n      $(e.target).closest('.' + toggleClass);\r\n      $target = $(e.target).closest('.' + toggleClass);\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        if(e.type == 'click') {\r\n          if ($target.hasClass('product-calculator__js-toggle_switch')) {\r\n            $block.toggleClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_square')){\r\n            $block.removeClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_count')) {\r\n            $block.addClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если ввод инпут\r\n    else if($(e.target).hasClass(inputClass) || $(e.target).parents('.' + inputClass).length > 0) {\r\n      $(e.target).closest('.' + inputClass);\r\n      $target = $(e.target).closest('.' + inputClass);\r\n      if(e.type == 'input') {\r\n        numChange($target);\r\n        actionProcessing($block, 'calculationTile');\r\n        actionProcessing($block, 'calculatePrice');\r\n        actionProcessing($block, 'totalPrice');\r\n        $target.on('change', function() {\r\n          console.log('change')\r\n          actionProcessing($block, 'adjustment');\r\n          actionProcessing($block, 'calculatePrice');\r\n          actionProcessing($block, 'totalPrice');\r\n        })\r\n      } else if(e.type == 'mouseout') {\r\n        $target.blur();\r\n      }\r\n    }\r\n  })\r\n\r\n  //functions\r\n  function actionProcessing($block, operation) {{\r\n    var $price = $block.closest('.product-item').find('.product-price-item span'),\r\n        $orderPrice = $block.parents('.cart-form_with-total-price-count').find('.order-price span'),\r\n        $totalPrice = $block.parents('.cart-form_with-total-price-count').find('.total-price span'),\r\n        $input = $block.find('.product-calculator__value-input'),\r\n        $hiddenInput = $block.find('.product-calculator__count-input'),\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val()),\r\n        frontInputVal = parseFloat(+$input.val()),\r\n        tileSquare = parseFloat($hiddenInput.data('square')),\r\n        minCount = parseFloat($hiddenInput.data('mincount')),\r\n        price = parseFloat($hiddenInput.data('price')),\r\n        items = 0,\r\n        other = 0;\r\n\r\n    if(operation == 'increase') {\r\n      $hiddenInput.val(hiddenInputVal + 1);\r\n      hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'reduce') {\r\n      if (hiddenInputVal>minCount) {\r\n        $hiddenInput.val(hiddenInputVal - 1);\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'measureChange') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'calculatePrice') {\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        $price.text(parseFloat((((hiddenInputVal*tileSquare).toFixed(2))*price).toFixed(2)));\r\n      } else {\r\n        $price.text(parseFloat((hiddenInputVal*price).toFixed(2)));\r\n      }\r\n    } else if (operation == 'adjustment') {\r\n      if(minCount > hiddenInputVal) {\r\n        $hiddenInput.val(minCount);\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(minCount);\r\n        } else {\r\n          $input.val(parseFloat((minCount * tileSquare).toFixed(2)));\r\n        }\r\n      } else {\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal*tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'calculationTile') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $hiddenInput.val(Math.ceil(frontInputVal));\r\n      } else {\r\n        $hiddenInput.val(Math.ceil(frontInputVal/tileSquare));\r\n      }\r\n    } else if (operation == 'totalPrice') {\r\n      $('.product-price-item span').each(function(i, element) {\r\n        items = items + parseFloat($(element).text());\r\n      })\r\n      $totalPrice.text(parseFloat(items.toFixed(2)));\r\n      if($orderPrice.length > 0) {\r\n        if($('.product-price-other span').length > 0) {\r\n          $('.product-price-other span').each(function(i, element) {\r\n            other = other + parseFloat($(element).text());\r\n          })\r\n        }\r\n        $orderPrice.text(parseFloat((items + other).toFixed(2)));\r\n      }\r\n    }\r\n  }}\r\n}\r\n//popup\r\nfunction fancybox() {\r\n  $.fancybox.defaults.btnTpl.close = '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowLeft = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowRight = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.zoom = '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.056 14.096\"> <path d=\"M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"></path> </svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.download = '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.24 14\"> <path d=\"M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z\"></path> </svg>' +\r\n  \"</a>\";\r\n  $.fancybox.defaults.btnTpl.slideShow = '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11 13.2\"> <path d=\"M0 0v13.2l11-6.6z\"></path></svg>' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 7.35 12.5\" id=\"slideshow\"><path d=\"M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.smallBtn = '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.thumbs = '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.7 12.7\" id=\"slideshow\"><path d=\"M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.i18n.ru = {\r\n    CLOSE       : 'Закрыть',\r\n    NEXT        : 'Следующий слайд',\r\n    PREV        : 'Предидущий слайд',\r\n    ERROR       : 'Ошибка загрузки, попробуйте позже.',\r\n    PLAY_START  : 'Запустить слайд-шоу',\r\n    PLAY_STOP   : 'Остановить слайд-шоу',\r\n    FULL_SCREEN : 'Полноэкранный режим',\r\n    THUMBS      : 'Миниатюры',\r\n    DOWNLOAD    : 'Загрузить',\r\n    SHARE       : 'Поделиться',\r\n    ZOOM        : 'Увеличить'\r\n  };\r\n  $.fancybox.defaults.lang = 'ru';\r\n  $.fancybox.defaults.loop = true;\r\n  $.fancybox.defaults.autoFocus = false;\r\n\r\n  $(document).on('afterShow.fb', function( e, instance, slide ) {\r\n    var $pano = $('.panorama');\r\n    if($pano.length > 0) {\r\n      var path = slide.$thumb.prevObject[0].dataset.pano,\r\n          c = document.getElementById(\"pano\");\r\n      Ceramic3DPanorama(c,'',path);\r\n    }\r\n    if($(slide.$content).hasClass('popup')) {\r\n      validation();\r\n    }\r\n  });\r\n}\r\n\r\n//validate\r\nfunction validation() {\r\n  var $phoneInput = $('input[name=\"phone\"]'),\r\n      $form = $(\".validate-form\");\r\n\r\n  if($form.length > 0) {  \r\n    $phoneInput.mask(\"+7 (999) 999-99-99\", {completed:function(){$form.validate().element($phoneInput)}});  \r\n    $phoneInput.on('keyup', function() {\r\n      if($(this).hasClass('error')) {\r\n        $form.validate().element($phoneInput);\r\n      }\r\n    })\r\n    \r\n    $.validator.addMethod(\"correctPhone\", function(value, element){\r\n      if (/^(?!_$)([+]{1}[0-9]{1} [(]{1}[0-9]{3}[)]{1} [0-9]{3}[-]{1}[0-9]{2}[-]{1}[0-9]{2})$/.test(value)) {\r\n          return true;  \r\n      } else {\r\n          return false;   \r\n      };\r\n    });\r\n\r\n    $.validator.addMethod(\"req\", $.validator.methods.required,\r\n    \"Пожалуйста, заполните это поле\");\r\n\r\n    $.validator.addClassRules(\"required\", { req: true});\r\n\r\n    $form.validate({\r\n      rules: {\r\n        email: {\r\n          email: true\r\n        },\r\n        phone: {\r\n          required: true,\r\n          correctPhone: true\r\n        },\r\n        personalData: {\r\n          required: true\r\n        },\r\n        payment: {\r\n          required: true\r\n        }\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          email: jQuery.validator.format(\"Введите корректный адрес электронной почты\")\r\n        },\r\n        payment: {\r\n          required: \"Пожалуйста, выберите способ оплаты\",\r\n        },\r\n        personalData: {\r\n          required: \"Согласие обязательно для продолжения\",\r\n        },\r\n        phone: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          correctPhone: jQuery.validator.format(\"Укажите корректный номер телефона\")\r\n        }\r\n      },\r\n      submitHandler: function(form) {\r\n        //отправка формы\r\n        //если отправка успешна\r\n        succes(form);\r\n      }\r\n    });\r\n\r\n    function succes(form) {\r\n      if($(form).hasClass('contact-form')) {\r\n        //очистка полей формы\r\n        $(form).find('.input').val('');\r\n        //Если форма во всплывающем окне - закрыть окно\r\n        if($(form).parents('.popup').length > 0) {\r\n          $.fancybox.close();\r\n        }\r\n        //показать окно благодарности \r\n        $.fancybox.open({\r\n          type: 'ajax',\r\n          src: '../popup-succes.html',\r\n          smallBtn: true,\r\n          touch: false\r\n        });\r\n        //закрыть автоматически чрез 3 сек\r\n        popupCloseTimer = setTimeout(function() {\r\n          $.fancybox.close();\r\n        }, 3000)\r\n      }\r\n      //временно\r\n      if($(form).hasClass('cart-form2')) {\r\n        document.location.href = \"cart-stage3.html\";\r\n      } else if($(form).hasClass('cart-form3')) {\r\n        document.location.href = \"cart-stage4.html\";\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}