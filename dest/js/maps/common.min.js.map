{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","nav","scrollInit","dropdown","aside","resize","innerWidth","scrollTop","window","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","visibleOnly","effect","effectTime","$navOpen","$navClose","$nav","$overlay","hasClass","addClass","scrollLock","hide","fadeIn","show","removeClass","fadeOut","e","preventDefault","navState","on","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","$link","$dropdownContainer","$dropdown","flag","is","target","setTimeout","has","length","parents","getNiceScroll","search","$searchOpen","$searchClose","$search","$catalogueToggle","$filterToggle","toggleClass","doScrollPos"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n//nav\r\nfunction nav() {\r\n  var $navOpen = $('.nav-open'),\r\n    $navClose = $('.nav-close'),\r\n    $nav = $('.nav'),\r\n    $overlay = $('.overlay');\r\n\r\n  $navOpen.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('active');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.removeClass('active');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('active');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('active')) {\r\n      $('.page').addClass('active');\r\n      scrollLock.hide($(\"body\"));\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $('.header').removeClass('active');\r\n      $('.page').removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  //\r\n  if (scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  \r\n  $(window).on('scroll', function() {\r\n    if (scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n}\r\n\r\n//scroll\r\nfunction scrollInit() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n\r\n  } else {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: \"leave\",\r\n    });\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n        $scrollContainer.getNiceScroll().resize();\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle');\r\n\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('.aside').toggleClass('catalogue-opened');\r\n    if($('.aside').hasClass('filter-opened')) {\r\n      $('.aside').removeClass('filter-opened');\r\n    }\r\n    $scrollContainer.getNiceScroll().resize();\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('.aside').toggleClass('filter-opened');\r\n    $scrollContainer.getNiceScroll().resize();\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n\r\n\r\n}"]}