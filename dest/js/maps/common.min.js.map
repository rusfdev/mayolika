{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","aside","inputs","slider","scrollBtnTop","select","gallery","moreInfo","calculator","fancybox","designSlider","innerWidth","window","imagesResize","scrollTop","popupCloseTimer","$checkbox","$slider","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","effect","Lazy","visibleOnly","effectTime","threshold","imageBase","defaultImage","afterLoad","element","boxH","box","parent","boxW","imgH","width","removeClass","addClass","$btn","fadeIn","fadeOut","setTimeout","each","this","height","imgW","hasClass","niceSelect","niceScroll","cursorcolor","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","setInterval","resize","timerId","getNiceScroll","on","e","preventDefault","doScrollPos","css","animate","$link","$dropdownContainer","$dropdown","flag","is","target","has","length","parents","$searchOpen","$searchClose","$search","$catalogueToggle","$filterToggle","$sectionToggle","$navToggle","toggleClass","scrollLock","hide","show","$reset","$input","$form","checkboxCheck","find","prop","attr","filterState","val","slideCount992","slideCount1200","slideCount768","slideCount576","arrows","autoplayVar","adaptiveHeight","fadeVar","slideCount","slick","dots","infinite","lazyLoad","centerMode","slidesToShow","slidesToScroll","fade","autoplay","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings","$gallery","event","pag","index","$galleryLink","eq","activeSlide","currentSlide","nextSlide","$activeSlide","controlClass","$buttonToggle","counter","$block","timerToHold","interval","inputClass","hold","flagStart","actionProcessing","operation","$price","hiddenInputVal","$totalPrice","parseFloat","$hiddenInput","frontInputVal","minCount","data","price","items","tileSquare","toFixed","text","Math","other","ceil","i","$orderPrice","defaults","btnTpl","myFunction","flagEnd","actionType","type","clearTimeout","$target","clickProcessing","closest","blur","replace","CLOSE","NEXT","close","PLAY_START","arrowLeft","THUMBS","arrowRight","ZOOM","zoom","loop","download","slideShow","getElementById","thumbs","i18n","ru","PREV","ERROR","validation","PLAY_STOP","FULL_SCREEN","DOWNLOAD","SHARE","form","lang","instance","slide","$thumb","prevObject","dataset","pano","src","c","path","touch","$content","$phoneInput","mask","location","completed","validate","validator","addMethod","value","test","methods","required","addClassRules","req","rules","email","phone","personalData","payment","jQuery","format","submitHandler","succes","open","smallBtn","href"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  inputs();\r\n  slider();\r\n  scrollBtnTop();\r\n  select();\r\n  gallery();\r\n  moreInfo();\r\n  calculator();\r\n  fancybox();\r\n  validation();\r\n  designSlider();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  imagesResize();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n  scrollBtnTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox'),\r\n$slider = $('.slider'),\r\npopupCloseTimer,\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'fadeIn',\r\n    visibleOnly: true,\r\n    effectTime: 300,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      var box = $(element).parent(),\r\n        boxH = box.height(),\r\n        boxW = box.width(),\r\n        imgH = element.height(),\r\n        imgW = element.width();\r\n\r\n        if ((boxW / boxH) >= (imgW / imgH)) {\r\n          element.addClass('ww').removeClass('wh');\r\n        } else {\r\n          element.addClass('wh').removeClass('ww');\r\n        }\r\n\r\n        element.addClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//scrollTop\r\nfunction scrollBtnTop() {\r\n  var $btn = $('.button_scroll-top');\r\n  if(scrollTop>200) {\r\n    $btn.fadeIn();\r\n  } else {\r\n    $btn.fadeOut();\r\n  }\r\n}\r\n\r\nfunction imagesResize() {\r\n  setTimeout(function() {\r\n    $('img.visible').each(function() {\r\n      var box = $(this).parent(),\r\n      boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = $(this).height(),\r\n      imgW = $(this).width();\r\n  \r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        $(this).addClass('ww').removeClass('wh');\r\n      } else {\r\n        $(this).addClass('wh').removeClass('ww');\r\n      }\r\n    })\r\n  }, 100)\r\n}\r\n\r\n//select\r\nfunction select() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n    return;\r\n  } else {\r\n    $('.select').niceSelect();\r\n  }\r\n}\r\n//scroll\r\nfunction scrollInit() {\r\n  $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n    cursorcolor: cursorcolorVar,\r\n    cursorwidth: cursorwidthVar,\r\n    cursorborder: cursorborderVar,\r\n    cursorborderradius: cursorborderradiusVar,\r\n    zindex: zindexVar,\r\n    bouncescroll: bouncescrollVar,\r\n    autohidemode: \"leave\",\r\n  });\r\n  var timerId = setInterval(function() {\r\n    $scrollContainer.getNiceScroll().resize();\r\n  }, 50);\r\n  \r\n  if ($('html').hasClass('desktop')) {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    var timerId = setInterval(function() {\r\n      $('body').getNiceScroll().resize();\r\n    }, 50);\r\n\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $('body').getNiceScroll().doScrollPos(0,0);\r\n    })\r\n  } else {\r\n    $('html, body').css('overflow', 'auto');\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $(\"html, body\").animate({ scrollTop: 0 }, 500);\r\n    })\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if(!$('html').hasClass('nav-opened')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>992) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\n\r\n//checkboses\r\nfunction inputs() {\r\n  var $reset = $('.form-reset-btn'),\r\n  $input = $('input'),\r\n  $form = $('form');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $input.on('change', function() {\r\n    checkboxCheck();\r\n    filterState();\r\n  })\r\n\r\n  $reset.on('click', function() {\r\n    setTimeout(function() {\r\n      checkboxCheck();\r\n      filterState();\r\n    }, 100)\r\n  })\r\n\r\n  function checkboxCheck() {\r\n    $checkbox.each(function() {\r\n      if($(this).find('input').prop('checked')) {\r\n        $(this).addClass('checked');\r\n      } else if($('#' + $(this).attr('for')).prop('checked')) {\r\n        $(this).addClass('checked');\r\n      } else {\r\n        $(this).removeClass('checked');\r\n      }\r\n    })\r\n  }\r\n\r\n  function filterState() {\r\n    $form.each(function() {\r\n      if($(this).find($reset).length) {\r\n        if($(this).find('input:checked').length > 0 || $(this).find('input').val()) {\r\n          $(this).find($reset).prop('disabled', false);\r\n        } else {\r\n          $reset.prop('disabled', true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//sliders\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('visible');\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n\r\n    var slideCount = 1,\r\n      slideCount1200 = 1,\r\n      slideCount992 = 1,\r\n      slideCount768 = 1,\r\n      slideCount576 = 1,\r\n      slideCount420 = 1,\r\n      sliderSpeed = 300,\r\n      arrows = true,\r\n      dots = false,\r\n      autoplayVar = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false,\r\n      fadeVar = false;\r\n\r\n    if ($(this).hasClass('main-slider__slider')) {\r\n      fadeVar = true;\r\n      autoplayVar = true;\r\n    }\r\n    if ($(this).hasClass('interesting-items__slider')) {\r\n      slideCount1200 = 3,\r\n      slideCount992 = 3,\r\n      slideCount768 = 2,\r\n      slideCount576 = 1,\r\n      slideCount = 4;\r\n    }\r\n    if ($(this).hasClass('gallery-slider')) {\r\n      arrows = false,\r\n      fadeVar = true\r\n    }\r\n    if ($(this).hasClass('design-slider__slider')) {\r\n      fadeVar = true,\r\n      adaptiveHeight = true;\r\n    }\r\n    \r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: sliderSpeed,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      fade: fadeVar,\r\n      autoplay: autoplayVar,\r\n      autoplaySpeed: 3000,\r\n      prevArrow: '<button class=\"slick-prev slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      nextArrow: '<button class=\"slick-next slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      responsive: [{\r\n          breakpoint: 1201,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 993,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 769,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 577,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n\r\n//gallery\r\nfunction gallery() {\r\n  var $gallery = $('.gallery-slider'),\r\n    $galleryLink = $('.gallery-nav__link'),\r\n    activeSlide;\r\n\r\n    $gallery.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n  $galleryLink.on('click', function(event) {\r\n    event.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $gallery.slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $gallery.find('.slick-active').index();\r\n    $galleryLink.removeClass('active');\r\n    $('.gallery-nav__item').eq(activeSlide).find($galleryLink).addClass('active');\r\n  }\r\n}\r\n//\r\nfunction designSlider() {\r\n  var $slider = $('.design-slider__slider'),\r\n    $link = $('.design-slider__nav-item .button'),\r\n    $activeSlide;\r\n\r\n    $slider.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n  $link.on('click', function(event) {\r\n    event.preventDefault();\r\n    var index = $(this).parent().index();\r\n    $slider.slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    $activeSlide = $slider.find('.slick-active').index();\r\n    $link.removeClass('active');\r\n    $link.parent().eq($activeSlide).find($link).addClass('active');\r\n  }\r\n}\r\n\r\n//more \r\nfunction moreInfo() {\r\n  var $buttonToggle = $('.product-head__item .button-toggle');\r\n\r\n  $buttonToggle.on('click', function(event) {\r\n    event.preventDefault();\r\n    $(this).parents('.product-head__item').find('.product-head__more-info').toggleClass('active');\r\n  })\r\n}\r\n\r\n//calcutor\r\nfunction calculator() {\r\n  var controlClass = 'product-calculator__control',\r\n      toggleClass = 'product-calculator__js-toggle',\r\n      inputClass = 'product-calculator__value-input',\r\n      timerToHold,\r\n      hold = false,\r\n      counter,\r\n      interval,\r\n      flagStart = false,\r\n      flagEnd = false;\r\n\r\n  $('.product-calculator').each(function() {\r\n    var $block = $(this);\r\n    actionProcessing($block, 'adjustment');\r\n    actionProcessing($block, 'calculatePrice');\r\n    actionProcessing($block, 'totalPrice');\r\n  })\r\n\r\n  $(document).on('touchstart touchend mousedown mouseup click input mouseout', '.product-calculator', function(e) {\r\n    var $target = $(e.target),\r\n        $block = $(this);\r\n    \r\n    //если жмем плюс или минус\r\n    if($(e.target).hasClass(controlClass) || $(e.target).parents('.' + controlClass).length > 0) {\r\n      $target = $(e.target).closest('.' + controlClass);\r\n      if ($target.hasClass('product-calculator__plus')) {\r\n        clickProcessing('increase');\r\n      }\r\n      else {\r\n        clickProcessing('reduce');\r\n      }\r\n      //\r\n      function clickProcessing(actionType) {\r\n        if(e.type == 'mousedown' || e.type == 'touchstart') {\r\n          if (!flagStart) {\r\n            flagStart = true;\r\n\r\n            timerToHold = setTimeout(function() {\r\n              hold = true;\r\n              counter = 150;\r\n\r\n              var myFunction = function() {\r\n                if(counter > 45) {\r\n                  counter = counter - 5;\r\n                }\r\n                interval = setTimeout(myFunction, counter);\r\n                actionProcessing($block, actionType);\r\n                actionProcessing($block, 'calculatePrice');\r\n                actionProcessing($block, 'totalPrice');\r\n              }\r\n              interval = setTimeout(myFunction, counter);\r\n            }, 300)\r\n          }\r\n        }\r\n        else if(e.type == 'mouseup' || e.type == 'touchend') {\r\n          if (!flagEnd) {\r\n            flagEnd = true;\r\n            setTimeout(function(){ flagEnd = false; flagStart = false }, 100);\r\n\r\n            timerToHold = clearTimeout(timerToHold);\r\n            setTimeout(function(){ timerToHold = clearTimeout(timerToHold); }, 50);\r\n            interval = clearTimeout(interval);\r\n            if(hold == true) {\r\n              hold = false;\r\n            } else {\r\n              actionProcessing($block, actionType);\r\n              actionProcessing($block, 'calculatePrice');\r\n              actionProcessing($block, 'totalPrice');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если меняем велечину\r\n    else if($(e.target).hasClass(toggleClass) || $(e.target).parents('.' + toggleClass).length > 0) {\r\n      $(e.target).closest('.' + toggleClass);\r\n      $target = $(e.target).closest('.' + toggleClass);\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        if(e.type == 'click') {\r\n          if ($target.hasClass('product-calculator__js-toggle_switch')) {\r\n            $block.toggleClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_square')){\r\n            $block.removeClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          } else if($target.hasClass('product-calculator__js-toggle_count')) {\r\n            $block.addClass('product-calculator_js-count-calc');\r\n            actionProcessing($block, 'measureChange');\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //если ввод инпут\r\n    else if($(e.target).hasClass(inputClass) || $(e.target).parents('.' + inputClass).length > 0) {\r\n      $(e.target).closest('.' + inputClass);\r\n      $target = $(e.target).closest('.' + inputClass);\r\n      if(e.type == 'input') {\r\n        $target.val($target.val()\r\n          .replace(/[^\\d,.]*/g, '')\r\n          .replace(/([,.])[,.]+/g, '$1')\r\n          .replace(/^[^\\d]*(\\d+([.,]\\d{0,5})?).*$/g, '$1')\r\n        )\r\n        actionProcessing($block, 'calculationTile');\r\n        actionProcessing($block, 'calculatePrice');\r\n        actionProcessing($block, 'totalPrice');\r\n        $target.on('change', function() {\r\n          console.log('change')\r\n          actionProcessing($block, 'adjustment');\r\n          actionProcessing($block, 'calculatePrice');\r\n          actionProcessing($block, 'totalPrice');\r\n        })\r\n      } else if(e.type == 'mouseout') {\r\n        $target.blur();\r\n      }\r\n    }\r\n  })\r\n\r\n  //functions\r\n  function actionProcessing($block, operation) {{\r\n    var $price = $block.closest('.product-item').find('.product-price-item span'),\r\n        $orderPrice = $block.parents('.cart-form_with-total-price-count').find('.order-price span'),\r\n        $totalPrice = $block.parents('.cart-form_with-total-price-count').find('.total-price span'),\r\n        $input = $block.find('.product-calculator__value-input'),\r\n        $hiddenInput = $block.find('.product-calculator__count-input'),\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val()),\r\n        frontInputVal = parseFloat(+$input.val()),\r\n        tileSquare = parseFloat($hiddenInput.data('square')),\r\n        minCount = parseFloat($hiddenInput.data('mincount')),\r\n        price = parseFloat($hiddenInput.data('price')),\r\n        items = 0,\r\n        other = 0;\r\n\r\n    if(operation == 'increase') {\r\n      $hiddenInput.val(hiddenInputVal + 1);\r\n      hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'reduce') {\r\n      if (hiddenInputVal>minCount) {\r\n        $hiddenInput.val(hiddenInputVal - 1);\r\n        hiddenInputVal = parseFloat(+$hiddenInput.val());\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'measureChange') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $input.val(hiddenInputVal);\r\n      } else {\r\n        $input.val(parseFloat((hiddenInputVal * tileSquare).toFixed(2)));\r\n      }\r\n    } else if (operation == 'calculatePrice') {\r\n      if($block.hasClass('product-calculator_tile')) {\r\n        $price.text(parseFloat((((hiddenInputVal*tileSquare).toFixed(2))*price).toFixed(2)));\r\n      } else {\r\n        $price.text(parseFloat((hiddenInputVal*price).toFixed(2)));\r\n      }\r\n    } else if (operation == 'adjustment') {\r\n      if(minCount > hiddenInputVal) {\r\n        $hiddenInput.val(minCount);\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(minCount);\r\n        } else {\r\n          $input.val(parseFloat((minCount * tileSquare).toFixed(2)));\r\n        }\r\n      } else {\r\n        if($block.hasClass('product-calculator_js-count-calc')) {\r\n          $input.val(hiddenInputVal);\r\n        } else {\r\n          $input.val(parseFloat((hiddenInputVal*tileSquare).toFixed(2)));\r\n        }\r\n      }\r\n    } else if (operation == 'calculationTile') {\r\n      if($block.hasClass('product-calculator_js-count-calc')) {\r\n        $hiddenInput.val(Math.ceil(frontInputVal));\r\n      } else {\r\n        $hiddenInput.val(Math.ceil(frontInputVal/tileSquare));\r\n      }\r\n    } else if (operation == 'totalPrice') {\r\n      $('.product-price-item span').each(function(i, element) {\r\n        items = items + parseFloat($(element).text());\r\n      })\r\n      $totalPrice.text(parseFloat(items.toFixed(2)));\r\n      if($orderPrice.length > 0) {\r\n        if($('.product-price-other span').length > 0) {\r\n          $('.product-price-other span').each(function(i, element) {\r\n            other = other + parseFloat($(element).text());\r\n          })\r\n        }\r\n        $orderPrice.text(parseFloat((items + other).toFixed(2)));\r\n      }\r\n    }\r\n  }}\r\n}\r\n//popup\r\nfunction fancybox() {\r\n  $.fancybox.defaults.btnTpl.close = '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowLeft = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowRight = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.zoom = '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.056 14.096\"> <path d=\"M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"></path> </svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.download = '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.24 14\"> <path d=\"M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z\"></path> </svg>' +\r\n  \"</a>\";\r\n  $.fancybox.defaults.btnTpl.slideShow = '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11 13.2\"> <path d=\"M0 0v13.2l11-6.6z\"></path></svg>' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 7.35 12.5\" id=\"slideshow\"><path d=\"M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.smallBtn = '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.thumbs = '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.7 12.7\" id=\"slideshow\"><path d=\"M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.i18n.ru = {\r\n    CLOSE       : 'Закрыть',\r\n    NEXT        : 'Следующий слайд',\r\n    PREV        : 'Предидущий слайд',\r\n    ERROR       : 'Ошибка загрузки, попробуйте позже.',\r\n    PLAY_START  : 'Запустить слайд-шоу',\r\n    PLAY_STOP   : 'Остановить слайд-шоу',\r\n    FULL_SCREEN : 'Полноэкранный режим',\r\n    THUMBS      : 'Миниатюры',\r\n    DOWNLOAD    : 'Загрузить',\r\n    SHARE       : 'Поделиться',\r\n    ZOOM        : 'Увеличить'\r\n  };\r\n  $.fancybox.defaults.lang = 'ru';\r\n  $.fancybox.defaults.loop = true;\r\n  $.fancybox.defaults.autoFocus = false;\r\n\r\n  $(document).on('afterShow.fb', function( e, instance, slide ) {\r\n    var $pano = $('.panorama');\r\n    if($pano.length > 0) {\r\n      var path = slide.$thumb.prevObject[0].dataset.pano,\r\n          c = document.getElementById(\"pano\");\r\n      Ceramic3DPanorama(c,'',path);\r\n    }\r\n    if($(slide.$content).hasClass('popup')) {\r\n      validation();\r\n    }\r\n  });\r\n}\r\n\r\n//validate\r\nfunction validation() {\r\n  var $phoneInput = $('input[name=\"phone\"]'),\r\n      $form = $(\".validate-form\");\r\n\r\n  if($form.length > 0) {  \r\n    $phoneInput.mask(\"+7 (999) 999-99-99\", {completed:function(){$form.validate().element($phoneInput)}});  \r\n    $phoneInput.on('keyup', function() {\r\n      if($(this).hasClass('error')) {\r\n        $form.validate().element($phoneInput);\r\n      }\r\n    })\r\n    \r\n    $.validator.addMethod(\"correctPhone\", function(value, element){\r\n      if (/^(?!_$)([+]{1}[0-9]{1} [(]{1}[0-9]{3}[)]{1} [0-9]{3}[-]{1}[0-9]{2}[-]{1}[0-9]{2})$/.test(value)) {\r\n          return true;  \r\n      } else {\r\n          return false;   \r\n      };\r\n    });\r\n\r\n    $.validator.addMethod(\"req\", $.validator.methods.required,\r\n    \"Пожалуйста, заполните это поле\");\r\n\r\n    $.validator.addClassRules(\"required\", { req: true});\r\n\r\n    $form.validate({\r\n      rules: {\r\n        email: {\r\n          email: true\r\n        },\r\n        phone: {\r\n          required: true,\r\n          correctPhone: true\r\n        },\r\n        personalData: {\r\n          required: true\r\n        },\r\n        payment: {\r\n          required: true\r\n        }\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          email: jQuery.validator.format(\"Введите корректный адрес электронной почты\")\r\n        },\r\n        payment: {\r\n          required: \"Пожалуйста, выберите способ оплаты\",\r\n        },\r\n        personalData: {\r\n          required: \"Согласие обязательно для продолжения\",\r\n        },\r\n        phone: {\r\n          required: \"Пожалуйста, заполните это поле\",\r\n          correctPhone: jQuery.validator.format(\"Укажите корректный номер телефона\")\r\n        }\r\n      },\r\n      submitHandler: function(form) {\r\n        //отправка формы\r\n        //если отправка успешна\r\n        succes(form);\r\n      }\r\n    });\r\n\r\n    function succes(form) {\r\n      if($(form).hasClass('contact-form')) {\r\n        //очистка полей формы\r\n        $(form).find('.input').val('');\r\n        //Если форма во всплывающем окне - закрыть окно\r\n        if($(form).parents('.popup').length > 0) {\r\n          $.fancybox.close();\r\n        }\r\n        //показать окно благодарности \r\n        $.fancybox.open({\r\n          type: 'ajax',\r\n          src: '../popup-succes.html',\r\n          smallBtn: true,\r\n          touch: false\r\n        });\r\n        //закрыть автоматически чрез 3 сек\r\n        popupCloseTimer = setTimeout(function() {\r\n          $.fancybox.close();\r\n        }, 3000)\r\n      }\r\n      //временно\r\n      if($(form).hasClass('cart-form2')) {\r\n        document.location.href = \"cart-stage3.html\";\r\n      } else if($(form).hasClass('cart-form3')) {\r\n        document.location.href = \"cart-stage4.html\";\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}