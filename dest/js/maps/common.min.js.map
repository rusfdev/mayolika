{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","scrollInit","dropdown","search","aside","inputs","scrollBtnTop","innerWidth","window","cover","on","scrollTop","$checkbox","$slider","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","$scrollContainer","effect","Lazy","visibleOnly","effectTime","afterLoad","setTimeout","element","boxH","box","parent","boxW","imgH","imgW","width","removeClass","addClass","fadeIn","fadeOut","each","height","this","hasClass","e","preventDefault","animate","niceScroll","cursorcolor","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","setInterval","timerId","getNiceScroll","resize","doScrollPos","$dropdown","$link","$dropdownContainer","is","target","flag","has","length","parents","$searchOpen","$searchClose","$search","$catalogueToggle","$filterToggle","$sectionToggle","$navToggle","toggleClass","scrollLock","hide","show","$reset","$input","$form","checkboxCheck","prop","filterState","find","val","slider","slideCount","slideCount1200","autoplayVar","fadeVar","infinite","arrows","dots","adaptiveHeight","centerMode","slidesToShow","slidesToScroll","fade","autoplay","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  scrollInit();\r\n  dropdown();\r\n  search();\r\n  aside();\r\n  inputs();\r\n  slider();\r\n  scrollBtnTop();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  cover();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n  scrollBtnTop();\r\n})\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\nscrollTop = $(window).scrollTop(),\r\n$checkbox = $('.checkbox'),\r\n$slider = $('.slider'),\r\n//scroll-styling\r\ncursorcolorVar = \"transparent\",\r\ncursorwidthVar = \"15px\",\r\ncursorborderVar = \"0\",\r\ncursorborderradiusVar = \"0\",\r\nzindexVar = [100],\r\nbouncescrollVar = false,\r\n$scrollContainer = $('.scroll-container');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'fadeIn',\r\n    visibleOnly: true,\r\n    effectTime: 300,\r\n    afterLoad: function(element) {\r\n      setTimeout(function() {\r\n        var box = $(element).parent(),\r\n        boxH = box.height(),\r\n        boxW = box.width(),\r\n        imgH = element.height(),\r\n        imgW = element.width();\r\n\r\n        if ((boxW / boxH) >= (imgW / imgH)) {\r\n          element.addClass('ww').removeClass('wh');\r\n        } else {\r\n          element.addClass('wh').removeClass('ww');\r\n        }\r\n\r\n        element.addClass('visible');\r\n      }, 100)\r\n    }\r\n  });\r\n}\r\n\r\n//scrollTop\r\nfunction scrollBtnTop() {\r\n  if(scrollTop>200) {\r\n    $('.button_scroll-top').fadeIn();\r\n  } else {\r\n    $('.button_scroll-top').fadeOut();\r\n  }\r\n}\r\n\r\nfunction cover() {\r\n  setTimeout(function() {\r\n    $('img.visible').each(function() {\r\n      var box = $(this).parent(),\r\n      boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = $(this).height(),\r\n      imgW = $(this).width();\r\n  \r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        $(this).addClass('ww').removeClass('wh');\r\n      } else {\r\n        $(this).addClass('wh').removeClass('ww');\r\n      }\r\n    })\r\n  }, 100)\r\n}\r\n\r\n//scroll\r\nfunction scrollInit() {\r\n  if ($('html').hasClass('android') || $('html').hasClass('ios')) {\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $(\"html, body\").animate({ scrollTop: 0 }, 500);\r\n    })\r\n  } else {\r\n    $('body').niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: true\r\n    });\r\n    $scrollContainer.niceScroll(\".scroll-wrapper\", {\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: \"leave\",\r\n    });\r\n    var timerId = setInterval(function() {\r\n      $('body').getNiceScroll().resize();\r\n      $scrollContainer.getNiceScroll().resize();\r\n    }, 50);\r\n\r\n    $(\".button_scroll-top\").on('click', function(e) {\r\n      e.preventDefault();\r\n      $('body').getNiceScroll().doScrollPos(0,0);\r\n    })\r\n  }\r\n};\r\n\r\n//dropdowns\r\nfunction dropdown() {\r\n  var $link = $('.dropdown-item__button'),\r\n      $dropdownContainer = $('.dropdown-item__container'),\r\n      $dropdown = $('.dropdown-item'),\r\n      flag;\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($link.is(e.target)) {\r\n      e.preventDefault();\r\n    }\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ((!$dropdownContainer.is(e.target) && $dropdownContainer.has(e.target).length === 0 && !$link.is(e.target) && $dropdown.hasClass('visible')) || ($link.is(e.target) && $(e.target).parents('.dropdown-item').hasClass('visible'))) {\r\n        $dropdown.removeClass('visible');\r\n      } else if ($link.is(e.target)) {\r\n        $dropdown.removeClass('visible');\r\n        $(e.target).parents('.dropdown-item').addClass('visible');\r\n      }\r\n    }\r\n  });\r\n}\r\n//search\r\nfunction search() {\r\n  var $searchOpen = $('.search-open'),\r\n  $searchClose = $('.search-close'),\r\n  $search = $('.header__search');\r\n\r\n  $searchOpen.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.addClass('visible');\r\n  })\r\n  $searchClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $search.removeClass('visible');\r\n  })\r\n  $(window).resize(function () {\r\n    if(innerWidth>576) {\r\n      $search.removeClass('visible');\r\n    }\r\n  });\r\n}\r\n\r\n//aside\r\nfunction aside() {\r\n  var $catalogueToggle = $('.catalogue-toggle'),\r\n  $filterToggle = $('.filter-toggle, .setup-open'),\r\n  $sectionToggle = $('.filter-section__title'),\r\n  $navToggle = $('.nav-toggle');\r\n\r\n  //при клике на кнопку каталога\r\n  $catalogueToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $('html').toggleClass('catalogue-opened');\r\n    if($('html').hasClass('filter-opened')) {\r\n      $('html').removeClass('filter-opened');\r\n    }\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на кнопку фильтров\r\n  $filterToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {}\r\n    else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n    $('html').toggleClass('filter-opened');\r\n    $(\".aside .scroll-container\").getNiceScroll().doScrollPos(0,0);\r\n  })\r\n\r\n  //при клике на табы фильтров\r\n  $sectionToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    $(this).parent().toggleClass('active');\r\n  })\r\n\r\n  //при клике на кнопку навигации\r\n  $navToggle.on('click', function(e) {\r\n    e.preventDefault();\r\n    if($('html').hasClass('nav-opened')) {\r\n      scrollLock.show($(\"body\"));\r\n      $('html').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n    } else {\r\n      scrollLock.hide($(\"body\"));\r\n      $('html').addClass('nav-opened');\r\n    }\r\n  })\r\n  \r\n  //добавление тени при прокрутке\r\n  if(scrollTop>0) {\r\n    $('.aside').addClass('scrolled');\r\n  } else {\r\n    $('.aside').removeClass('scrolled');\r\n  }\r\n  $(window).on('scroll', function() {\r\n    if(scrollTop>0) {\r\n      $('.aside').addClass('scrolled');\r\n    } else {\r\n      $('.aside').removeClass('scrolled');\r\n    }\r\n  })\r\n  \r\n  //закртие навигации при условии изменения ширины монитора\r\n  $(window).resize(function () {\r\n    if(innerWidth>992) {\r\n      $('body').removeClass('filter-opened').removeClass('catalogue-opened').removeClass('nav-opened');\r\n      scrollLock.show($(\"body\"));\r\n    }\r\n  });\r\n}\r\n\r\n\r\n//checkboses\r\nfunction inputs() {\r\n  var $reset = $('.form-reset-btn'),\r\n  $input = $('input'),\r\n  $form = $('form');\r\n\r\n  checkboxCheck();\r\n  filterState();\r\n\r\n  $input.on('change', function() {\r\n    checkboxCheck();\r\n    filterState();\r\n  })\r\n\r\n  $reset.on('click', function() {\r\n    //var $reset = $(this);\r\n    setTimeout(function() {\r\n      checkboxCheck();\r\n      //$reset.prop('disabled', true);\r\n      filterState();\r\n    }, 100)\r\n  })\r\n\r\n  function checkboxCheck() {\r\n    $checkbox.each(function() {\r\n      if($(this).find('input').prop('checked')) {\r\n        $(this).addClass('checked');\r\n      } else {\r\n        $(this).removeClass('checked');\r\n      }\r\n    })\r\n  }\r\n\r\n  function filterState() {\r\n    $form.each(function() {\r\n      if($(this).find($reset).length) {\r\n        if($(this).find('input:checked').length > 0 || $(this).find('input').val()) {\r\n          $(this).find($reset).prop('disabled', false);\r\n        } else {\r\n          $reset.prop('disabled', true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//sliders\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('visible');\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n\r\n    var slideCount = 1,\r\n      slideCount1200 = 1,\r\n      slideCount992 = 1,\r\n      slideCount768 = 1,\r\n      slideCount576 = 1,\r\n      slideCount420 = 1,\r\n      arrows = true,\r\n      dots = false,\r\n      autoplayVar = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false,\r\n      fadeVar = false;\r\n\r\n    if ($(this).hasClass('main-slider__slider')) {\r\n      fadeVar = true,\r\n      autoplayVar = true;\r\n    }\r\n    \r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      fade: fadeVar,\r\n      autoplay: autoplayVar,\r\n      autoplaySpeed: 3000,\r\n      prevArrow: '<button class=\"slick-prev slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      nextArrow: '<button class=\"slick-next slick-arrow\" aria-label=\"Previous\" type=\"button\"><svg class=\"icon\"><use xlink:href=\"img/icons/icons-sprite.svg#icon18\"></use></svg></button>',\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}"]}