{"version":3,"sources":["c3dpano.js"],"names":["path","Ceramic3DPanorama","e","r","t","document","getElementById","a","n","o","i","f","u","c","s","l","v","E","d","m","g","p","T","_","h","R","A","getContext","U","Float32Array","Array","P","L","w","I","M","B","b","F","Math","PI","x","C","y","width","height","viewport","D","scrollWidth","scrollHeight","tan","cos","sin","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","useProgram","bindBuffer","ARRAY_BUFFER","vertexAttribPointer","FLOAT","uniformMatrix3fv","uniformMatrix4fv","uniform1f","activeTexture","TEXTURE0","bindTexture","TEXTURE_CUBE_MAP","uniform1i","drawArrays","TRIANGLES","X","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","error","getProgramInfoLog","getShaderInfoLog","N","createTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","RGBA","UNSIGNED_BYTE","generateMipmap","getError","NO_ERROR","texParameteri","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","Y","clearColor","getUniformLocation","getAttribLocation","enableVertexAttribArray","createBuffer","bufferData","STATIC_DRAW","onmousedown","which","preventDefault","addEventListener","changedTouches","pageX","offsetLeft","pageY","offsetTop","window","ontouchend","ontouchmove","onwheel","wheelDelta","min","max","deltaY","reload","cameraVersion","deleteTexture","XMLHttpRequest","onprogress","length","isNaN","total","loaded","this","status","getAllResponseHeaders","match","Blob","response","type","Image","onload","src","URL","createObjectURL","substr","lastIndexOf","open","responseType","send","panorams","redraw","canvas","c3dpano","onselectstart","ondragstart","Object"],"mappings":"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","file":"../c3dpano.min.js","sourcesContent":["var path;\r\nfunction Ceramic3DPanorama(e, r, t) {\r\n  path = t,\r\n    function (e) {\r\n      function r(e) {\r\n        var r = e;\r\n        \"string\" == typeof r && (r = document.getElementById(r));\r\n        var t, a, n, o, i, f, u, c, s, l, v, E, d, m, g, p, T, _, h, R, A = r.getContext(\"webgl\") || r.getContext(\"experimental-webgl\");\r\n        if (!U) var U = \"undefined\" != typeof Float32Array ? Float32Array : Array;\r\n        var P, L, w, I, M, B = new U(16),\r\n          b = new U(9),\r\n          F = Math.PI / 300,\r\n          x = 2 * Math.PI,\r\n          C = Math.PI / 2;\r\n\r\n        function S(e, r, t, a, n) {\r\n          var o, i, f, u, c, s, l, v, E, d = e / r,\r\n            m = a * Math.tan(t / 2),\r\n            g = m * d;\r\n          l = 1 / ((i = g) - (o = -g)), v = 1 / ((u = m) - (f = -m)), E = 1 / ((c = a) - (s = n)), B[0] = 2 * c * l, B[1] = 0, B[2] = 0, B[3] = 0, B[4] = 0, B[5] = 2 * c * v, B[6] = 0, B[7] = 0, B[8] = (o + i) * l, B[9] = (f + u) * v, B[10] = (c + s) * E, B[11] = -1, B[12] = 0, B[13] = 0, B[14] = c * s * 2 * E, B[15] = 0\r\n        }\r\n\r\n        function y(e, t) {\r\n          u = e, c = t, r.width = e, r.height = t, A.viewport(0, 0, e, t), T = !0, w = !1, I = 0, M = 0\r\n        }\r\n\r\n        function D() {\r\n          var e, t, a, n, o, i, U, D;\r\n          f && (r.scrollWidth == u && r.scrollHeight == c || (y(r.scrollWidth, r.scrollHeight), h = R - 1), !w || 0 == I && 0 == M || (L += M * F, (P += I * F) > x ? P -= x : P <= 0 && (P += x), L > C ? L = C : L < -C && (L = -C), I = 0, M = 0, T = !0), h != R && (h = R, T = !0, S(u, c, Math.PI / 3 - R / 10, .05, 10)), T && (T = !1, e = Math.cos(P), t = Math.sin(P), a = Math.cos(L), n = Math.sin(L), o = e * a, i = t * a, U = e * n, D = t * n, b[0] = e, b[1] = D, b[2] = -i, b[3] = 0, b[4] = a, b[5] = n, b[6] = t, b[7] = -U, b[8] = o, A.clear(A.COLOR_BUFFER_BIT | A.DEPTH_BUFFER_BIT), A.useProgram(l), A.bindBuffer(A.ARRAY_BUFFER, p), A.vertexAttribPointer(g, 3, A.FLOAT, !1, 0, 0), A.uniformMatrix3fv(v, !1, b), A.uniformMatrix4fv(E, !1, B), A.uniform1f(m, _), A.activeTexture(A.TEXTURE0), A.bindTexture(A.TEXTURE_CUBE_MAP, s), A.uniform1i(d, 0), A.drawArrays(A.TRIANGLES, 0, 36)))\r\n        }\r\n\r\n        function X(e, r) {\r\n          var t = A.createShader(A.VERTEX_SHADER);\r\n          if (A.shaderSource(t, e), A.compileShader(t), A.getShaderParameter(t, A.COMPILE_STATUS)) {\r\n            var a = A.createShader(A.FRAGMENT_SHADER);\r\n            if (A.shaderSource(a, r), A.compileShader(a), A.getShaderParameter(a, A.COMPILE_STATUS)) {\r\n              var n = A.createProgram();\r\n              if (A.attachShader(n, t), A.attachShader(n, a), A.linkProgram(n), A.getProgramParameter(n, A.LINK_STATUS)) return n;\r\n              console.error(A.getProgramInfoLog(n))\r\n            } else console.error(A.getShaderInfoLog(a))\r\n          } else console.error(A.getShaderInfoLog(t))\r\n        }\r\n\r\n        function N(e) {\r\n          s = function (e) {\r\n            var r = A.createTexture();\r\n            A.bindTexture(A.TEXTURE_CUBE_MAP, r), A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL, !0);\r\n            for (var t = 0; t < 6; t++) A.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, A.RGBA, A.RGBA, A.UNSIGNED_BYTE, e[t]);\r\n            return A.generateMipmap(A.TEXTURE_CUBE_MAP), A.getError() == A.NO_ERROR ? A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MIN_FILTER, A.LINEAR_MIPMAP_LINEAR) : A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MIN_FILTER, A.LINEAR), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_WRAP_S, A.CLAMP_TO_EDGE), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_WRAP_T, A.CLAMP_TO_EDGE), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MAG_FILTER, A.LINEAR), A.bindTexture(A.TEXTURE_CUBE_MAP, null), r\r\n          }(e), f = !0, T = !1, D()\r\n        }\r\n\r\n        function Y() {\r\n          f || (r.scrollWidth == u && r.scrollHeight == c || y(r.scrollWidth, r.scrollHeight), T && (T = !1, A.clear(A.COLOR_BUFFER_BIT | A.DEPTH_BUFFER_BIT), A.useProgram(i), A.bindBuffer(A.ARRAY_BUFFER, o), A.vertexAttribPointer(n, 3, A.FLOAT, !1, 0, 0), A.uniform1f(a, t), A.drawArrays(A.TRIANGLES, 0, 6)))\r\n        }\r\n        return A.clearColor(1, 1, 1, 1), i = X(\"attribute vec3 a; varying vec2 v; void main() {v = a.xy; gl_Position = vec4(a, 1.0);}\", \"precision mediump float; uniform float perc; varying vec2 v; void main() {if (abs(v.x) > 0.4 || abs(v.y) > 0.05) discard;if ((v.x + 0.4)/0.8 < perc) gl_FragColor = vec4(1.0,  0.0,  0.0,  1.0); else gl_FragColor = vec4(0.7, 0.7, 0.7, 1.0);}\"), a = A.getUniformLocation(i, \"perc\"), n = A.getAttribLocation(i, \"a\"), A.enableVertexAttribArray(n), o = A.createBuffer(), A.bindBuffer(A.ARRAY_BUFFER, o), A.bufferData(A.ARRAY_BUFFER, new U([-1, -1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0, -1, 1, 0, 1, -1, 0]), A.STATIC_DRAW), l = X(\"uniform mat3 vm; uniform mat4 pm; attribute vec3 a; varying vec3 v; void main() {v = a; gl_Position = pm * vec4(vm * a, 1.0);}\", \"precision mediump float; uniform samplerCube t; uniform float Ysign; varying vec3 v; void main() {gl_FragColor = textureCube(t, vec3(v.x, Ysign * v.z, -v.y));}\"), v = A.getUniformLocation(l, \"vm\"), E = A.getUniformLocation(l, \"pm\"), d = A.getUniformLocation(l, \"t\"), m = A.getUniformLocation(l, \"Ysign\"), g = A.getAttribLocation(l, \"a\"), A.enableVertexAttribArray(g), p = A.createBuffer(), A.bindBuffer(A.ARRAY_BUFFER, p), A.bufferData(A.ARRAY_BUFFER, function () {\r\n            for (var e = new U(108), r = new U(3), t = new U(3), a = 0, n = 0; n < 3; n++) {\r\n              r[0] = n, r[1] = (n + 1) % 3, r[2] = (n + 2) % 3;\r\n              for (var o = -1; o < 2; o += 2)\r\n                for (var i = 0, f = -1; f < 2; f += 2)\r\n                  for (var u = -1; u < 2; u += 2) {\r\n                    t[r[0]] = o, t[r[1]] = f, t[r[2]] = u;\r\n                    for (var c = 0; c < 3; c++) e[3 * a + c] = t[c];\r\n                    if (1 == i || 2 == i)\r\n                      for (c = 0; c < 3; c++) e[3 * (a + 2) + c] = t[c];\r\n                    2 == i && (a += 2), a++, i++\r\n                  }\r\n            }\r\n            return e\r\n          }(), A.STATIC_DRAW),\r\n          function () {\r\n            r.onmousedown = function (e) {\r\n              return f ? (1 == e.which && (w = !0), e.preventDefault(), !1) : (e.preventDefault(), !1)\r\n            }, r.addEventListener(\"touchstart\", function (a) {\r\n              if (!f) return a.preventDefault(), !1;\r\n              w = !0;\r\n              var n = a.changedTouches[0],\r\n                o = (n.pageX - r.offsetLeft) / 3,\r\n                i = (n.pageY - r.offsetTop) / 3;\r\n              return e = o, t = i, a.preventDefault(), !1\r\n            }, !1), window.addEventListener(\"mouseup\", function (e) {\r\n              return !!f && (1 == e.which && (w = !1), !1)\r\n            }, !1), window.addEventListener(\"touchend\", function (e) {\r\n            }, !1), r.ontouchend = function (e) {\r\n              return e.preventDefault(), !1\r\n            };\r\n            var e = 0,\r\n              t = 0;\r\n            window.addEventListener(\"mousemove\", function (a) {\r\n              if (!f) return !1;\r\n              var n = a.pageX - r.offsetLeft,\r\n                o = a.pageY - r.offsetTop;\r\n              return I = n - e, M = o - t, e = n, t = o, D(), !1\r\n            }, !1), window.addEventListener(\"touchmove\", function (a) {\r\n              if (!f) return a.preventDefault(), !1;\r\n              var n = a.changedTouches[0],\r\n                o = (n.pageX - r.offsetLeft) / 3,\r\n                i = (n.pageY - r.offsetTop) / 3;\r\n              return I = o - e, M = i - t, e = o, t = i, D(), a.preventDefault(), !1\r\n            }, !1), r.ontouchmove = function (e) {\r\n              return e.preventDefault(), !1\r\n            }, r.onwheel = function (e) {\r\n              return !!f && (e.wheelDelta > 0 ? R = Math.min(R + 1, 6) : e.wheelDelta < 0 && (R = Math.max(R - 1, -10)), e.deltaY < 0 ? R = Math.min(R + 1, 6) : e.deltaY > 0 && (R = Math.max(R - 1, -10)), D(), !1)\r\n            }\r\n          }(), {\r\n            reload: function (e) {\r\n              t = 0, f = !1, T = !0, _ = 1 == e.cameraVersion ? 1 : -1, h = -100, R = 0, P = 0, L = 0, w = !1, I = 0, M = 0, A.deleteTexture(s), Y(),\r\n                function (e, r, t, a) {\r\n                  var n = void 0 !== (new window.XMLHttpRequest).onprogress,\r\n                    o = e.length,\r\n                    i = o;\r\n                  r && i++;\r\n                  var f = new Array(o),\r\n                    u = new Array(o),\r\n                    c = new Array(o),\r\n                    s = 0,\r\n                    l = 0,\r\n                    v = o;\r\n                  if (!n) {\r\n                    for (var E = 0; E < o; E++) u[E] = 0, c[E] = 1;\r\n                    l = o, v = 0\r\n                  }\r\n\r\n                  function d() {\r\n                    0 == --i && t(f)\r\n                  }\r\n\r\n                  function m(e) {\r\n                    return function (r) {\r\n                      isNaN(c[e]) && r.total > 0 && (c[e] = r.total, u[e] = 0, l += r.total, v--), !isNaN(c[e]) && r.loaded > u[e] && (s += r.loaded - u[e], u[e] = r.loaded, 0 == v && a(s / l))\r\n                    }\r\n                  }\r\n\r\n                  function g(r, t) {\r\n                    return function () {\r\n                      if (isNaN(c[r]) ? v-- : c[r] > u[r] && (s += c[r] - u[r], u[r] = c[r], 0 == v && a(s / l)), this.status >= 200 && this.status < 400)\r\n                        if (t) {\r\n                          var n = this.getAllResponseHeaders().match(/^Content-Type\\:\\s*(.*?)$/im)[1] || \"image/png\",\r\n                            o = new Blob([this.response], {\r\n                              type: n\r\n                            });\r\n                          f[r] = new Image, f[r].onload = d, f[r].src = window.URL.createObjectURL(o)\r\n                        } else f[r] = this.response, d();\r\n                      else console.error(\"Unable to load file \" + e[r] + \"!\"), d()\r\n                    }\r\n                  }\r\n                  for (E = 0; E < o; E++) {\r\n                    var p = e[E],\r\n                      T = p.substr(p.lastIndexOf(\".\")),\r\n                      _ = \".jpg\" == T || \".bmp\" == T || \".png\" == T,\r\n                      h = _ || \".bin\" == T;\r\n                    if (!n && _) f[E] = new Image, f[E].onload = function () {\r\n                      a(++s / l), d()\r\n                    }, f[E].src = p;\r\n                    else {\r\n                      var R = new XMLHttpRequest;\r\n                      R.onload = g(E, _), n && (R.onprogress = m(E)), R.open(\"GET\", p, !0), h && (R.responseType = \"arraybuffer\"), R.send()\r\n                    }\r\n                  }\r\n                  r && (r(), d())\r\n                }(e.panorams[0], null, N, function (e) {\r\n                  t = e, T = !0, Y()\r\n                })\r\n            },\r\n            redraw: function () {\r\n              D()\r\n            }\r\n          }\r\n      }! function () {\r\n        var t, a;\r\n\r\n        function n() {\r\n          return !1\r\n        }\r\n        \"string\" == typeof (t = e.canvas) && (t = document.getElementById(t)), t.c3dpano = r(t), t.onselectstart = n, t.ondragstart = n, t.c3dpano.reload(((a = new Object).panorams = e.panorams, a.cameraVersion = e.cameraVersion, a))\r\n      }()\r\n    }({\r\n      canvas: e,\r\n      panorams: [\r\n        [path + \"/+X.jpg\", path + \"/-X.jpg\", path + \"/+Y.jpg\", path + \"/-Y.jpg\", path + \"/+Z.jpg\", path + \"/-Z.jpg\"]\r\n      ]\r\n    })\r\n}"]}