{"version":3,"sources":["c3dpano.js"],"names":["path","Ceramic3DPanorama","e","r","t","document","getElementById","a","n","o","i","f","u","c","s","l","v","E","d","m","g","p","T","_","h","R","A","getContext","U","Float32Array","Array","P","L","w","I","M","B","Math","PI","y","width","height","viewport","D","scrollWidth","scrollHeight","F","x","C","tan","cos","sin","b","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","useProgram","bindBuffer","ARRAY_BUFFER","vertexAttribPointer","FLOAT","uniformMatrix3fv","uniformMatrix4fv","uniform1f","activeTexture","TEXTURE0","bindTexture","TEXTURE_CUBE_MAP","uniform1i","drawArrays","TRIANGLES","X","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","error","getProgramInfoLog","getShaderInfoLog","N","createTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","RGBA","UNSIGNED_BYTE","generateMipmap","getError","NO_ERROR","texParameteri","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","Y","clearColor","getUniformLocation","getAttribLocation","enableVertexAttribArray","createBuffer","bufferData","STATIC_DRAW","onmousedown","which","addEventListener","preventDefault","offsetLeft","window","pageX","changedTouches","pageY","offsetTop","wheelDelta","min","max","deltaY","reload","cameraVersion","deleteTexture","XMLHttpRequest","onprogress","length","total","isNaN","loaded","this","status","ontouchend","getAllResponseHeaders","match","Blob","response","type","Image","onload","src","URL","createObjectURL","lastIndexOf","ontouchmove","open","responseType","send","panorams","redraw","canvas","c3dpano","onselectstart","ondragstart","Object"],"mappings":"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","file":"../c3dpano.min.js","sourcesContent":["var path;\r\nfunction Ceramic3DPanorama(e, r, t) {\r\n  path = t,\r\n    function (e) {\r\n      function r(e) {\r\n        var r = e;\r\n        \"string\" == typeof r && (r = document.getElementById(r));\r\n        var t, a, n, o, i, f, u, c, s, l, v, E, d, m, g, p, T, _, h, R, A = r.getContext(\"webgl\") || r.getContext(\"experimental-webgl\");\r\n        if (!U) var U = \"undefined\" != typeof Float32Array ? Float32Array : Array;\r\n        var P, L, w, I, M, B = new U(16),\r\n          b = new U(9),\r\n          F = Math.PI / 300,\r\n          x = 2 * Math.PI,\r\n          C = Math.PI / 2;\r\n\r\n        function S(e, r, t, a, n) {\r\n          var o, i, f, u, c, s, l, v, E, d = e / r,\r\n            m = a * Math.tan(t / 2),\r\n            g = m * d;\r\n          l = 1 / ((i = g) - (o = -g)), v = 1 / ((u = m) - (f = -m)), E = 1 / ((c = a) - (s = n)), B[0] = 2 * c * l, B[1] = 0, B[2] = 0, B[3] = 0, B[4] = 0, B[5] = 2 * c * v, B[6] = 0, B[7] = 0, B[8] = (o + i) * l, B[9] = (f + u) * v, B[10] = (c + s) * E, B[11] = -1, B[12] = 0, B[13] = 0, B[14] = c * s * 2 * E, B[15] = 0\r\n        }\r\n\r\n        function y(e, t) {\r\n          u = e, c = t, r.width = e, r.height = t, A.viewport(0, 0, e, t), T = !0, w = !1, I = 0, M = 0\r\n        }\r\n\r\n        function D() {\r\n          var e, t, a, n, o, i, U, D;\r\n          f && (r.scrollWidth == u && r.scrollHeight == c || (y(r.scrollWidth, r.scrollHeight), h = R - 1), !w || 0 == I && 0 == M || (L += M * F, (P += I * F) > x ? P -= x : P <= 0 && (P += x), L > C ? L = C : L < -C && (L = -C), I = 0, M = 0, T = !0), h != R && (h = R, T = !0, S(u, c, Math.PI / 3 - R / 10, .05, 10)), T && (T = !1, e = Math.cos(P), t = Math.sin(P), a = Math.cos(L), n = Math.sin(L), o = e * a, i = t * a, U = e * n, D = t * n, b[0] = e, b[1] = D, b[2] = -i, b[3] = 0, b[4] = a, b[5] = n, b[6] = t, b[7] = -U, b[8] = o, A.clear(A.COLOR_BUFFER_BIT | A.DEPTH_BUFFER_BIT), A.useProgram(l), A.bindBuffer(A.ARRAY_BUFFER, p), A.vertexAttribPointer(g, 3, A.FLOAT, !1, 0, 0), A.uniformMatrix3fv(v, !1, b), A.uniformMatrix4fv(E, !1, B), A.uniform1f(m, _), A.activeTexture(A.TEXTURE0), A.bindTexture(A.TEXTURE_CUBE_MAP, s), A.uniform1i(d, 0), A.drawArrays(A.TRIANGLES, 0, 36)))\r\n        }\r\n\r\n        function X(e, r) {\r\n          var t = A.createShader(A.VERTEX_SHADER);\r\n          if (A.shaderSource(t, e), A.compileShader(t), A.getShaderParameter(t, A.COMPILE_STATUS)) {\r\n            var a = A.createShader(A.FRAGMENT_SHADER);\r\n            if (A.shaderSource(a, r), A.compileShader(a), A.getShaderParameter(a, A.COMPILE_STATUS)) {\r\n              var n = A.createProgram();\r\n              if (A.attachShader(n, t), A.attachShader(n, a), A.linkProgram(n), A.getProgramParameter(n, A.LINK_STATUS)) return n;\r\n              console.error(A.getProgramInfoLog(n))\r\n            } else console.error(A.getShaderInfoLog(a))\r\n          } else console.error(A.getShaderInfoLog(t))\r\n        }\r\n\r\n        function N(e) {\r\n          s = function (e) {\r\n            var r = A.createTexture();\r\n            A.bindTexture(A.TEXTURE_CUBE_MAP, r), A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL, !0);\r\n            for (var t = 0; t < 6; t++) A.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, A.RGBA, A.RGBA, A.UNSIGNED_BYTE, e[t]);\r\n            return A.generateMipmap(A.TEXTURE_CUBE_MAP), A.getError() == A.NO_ERROR ? A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MIN_FILTER, A.LINEAR_MIPMAP_LINEAR) : A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MIN_FILTER, A.LINEAR), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_WRAP_S, A.CLAMP_TO_EDGE), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_WRAP_T, A.CLAMP_TO_EDGE), A.texParameteri(A.TEXTURE_CUBE_MAP, A.TEXTURE_MAG_FILTER, A.LINEAR), A.bindTexture(A.TEXTURE_CUBE_MAP, null), r\r\n          }(e), f = !0, T = !1, D()\r\n        }\r\n\r\n        function Y() {\r\n          f || (r.scrollWidth == u && r.scrollHeight == c || y(r.scrollWidth, r.scrollHeight), T && (T = !1, A.clear(A.COLOR_BUFFER_BIT | A.DEPTH_BUFFER_BIT), A.useProgram(i), A.bindBuffer(A.ARRAY_BUFFER, o), A.vertexAttribPointer(n, 3, A.FLOAT, !1, 0, 0), A.uniform1f(a, t), A.drawArrays(A.TRIANGLES, 0, 6)))\r\n        }\r\n        return A.clearColor(1, 1, 1, 1), i = X(\"attribute vec3 a; varying vec2 v; void main() {v = a.xy; gl_Position = vec4(a, 1.0);}\", \"precision mediump float; uniform float perc; varying vec2 v; void main() {if (abs(v.x) > 0.4 || abs(v.y) > 0.05) discard;if ((v.x + 0.4)/0.8 < perc) gl_FragColor = vec4(0.0, 0.7, 0.0, 1.0); else gl_FragColor = vec4(0.7, 0.7, 0.7, 1.0);}\"), a = A.getUniformLocation(i, \"perc\"), n = A.getAttribLocation(i, \"a\"), A.enableVertexAttribArray(n), o = A.createBuffer(), A.bindBuffer(A.ARRAY_BUFFER, o), A.bufferData(A.ARRAY_BUFFER, new U([-1, -1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0, -1, 1, 0, 1, -1, 0]), A.STATIC_DRAW), l = X(\"uniform mat3 vm; uniform mat4 pm; attribute vec3 a; varying vec3 v; void main() {v = a; gl_Position = pm * vec4(vm * a, 1.0);}\", \"precision mediump float; uniform samplerCube t; uniform float Ysign; varying vec3 v; void main() {gl_FragColor = textureCube(t, vec3(v.x, Ysign * v.z, -v.y));}\"), v = A.getUniformLocation(l, \"vm\"), E = A.getUniformLocation(l, \"pm\"), d = A.getUniformLocation(l, \"t\"), m = A.getUniformLocation(l, \"Ysign\"), g = A.getAttribLocation(l, \"a\"), A.enableVertexAttribArray(g), p = A.createBuffer(), A.bindBuffer(A.ARRAY_BUFFER, p), A.bufferData(A.ARRAY_BUFFER, function () {\r\n            for (var e = new U(108), r = new U(3), t = new U(3), a = 0, n = 0; n < 3; n++) {\r\n              r[0] = n, r[1] = (n + 1) % 3, r[2] = (n + 2) % 3;\r\n              for (var o = -1; o < 2; o += 2)\r\n                for (var i = 0, f = -1; f < 2; f += 2)\r\n                  for (var u = -1; u < 2; u += 2) {\r\n                    t[r[0]] = o, t[r[1]] = f, t[r[2]] = u;\r\n                    for (var c = 0; c < 3; c++) e[3 * a + c] = t[c];\r\n                    if (1 == i || 2 == i)\r\n                      for (c = 0; c < 3; c++) e[3 * (a + 2) + c] = t[c];\r\n                    2 == i && (a += 2), a++, i++\r\n                  }\r\n            }\r\n            return e\r\n          }(), A.STATIC_DRAW),\r\n          function () {\r\n            r.onmousedown = function (e) {\r\n              return f ? (1 == e.which && (w = !0), e.preventDefault(), !1) : (e.preventDefault(), !1)\r\n            }, r.addEventListener(\"touchstart\", function (a) {\r\n              if (!f) return a.preventDefault(), !1;\r\n              w = !0;\r\n              var n = a.changedTouches[0],\r\n                o = (n.pageX - r.offsetLeft) / 3,\r\n                i = (n.pageY - r.offsetTop) / 3;\r\n              return e = o, t = i, a.preventDefault(), !1\r\n            }, !1), window.addEventListener(\"mouseup\", function (e) {\r\n              return !!f && (1 == e.which && (w = !1), !1)\r\n            }, !1), window.addEventListener(\"touchend\", function (e) {\r\n              return f ? (w = !1, e.preventDefault(), !1) : (e.preventDefault(), !1)\r\n            }, !1), r.ontouchend = function (e) {\r\n              return e.preventDefault(), !1\r\n            };\r\n            var e = 0,\r\n              t = 0;\r\n            window.addEventListener(\"mousemove\", function (a) {\r\n              if (!f) return !1;\r\n              var n = a.pageX - r.offsetLeft,\r\n                o = a.pageY - r.offsetTop;\r\n              return I = n - e, M = o - t, e = n, t = o, D(), !1\r\n            }, !1), window.addEventListener(\"touchmove\", function (a) {\r\n              if (!f) return a.preventDefault(), !1;\r\n              var n = a.changedTouches[0],\r\n                o = (n.pageX - r.offsetLeft) / 3,\r\n                i = (n.pageY - r.offsetTop) / 3;\r\n              return I = o - e, M = i - t, e = o, t = i, D(), a.preventDefault(), !1\r\n            }, !1), r.ontouchmove = function (e) {\r\n              return e.preventDefault(), !1\r\n            }, r.onwheel = function (e) {\r\n              return !!f && (e.wheelDelta > 0 ? R = Math.min(R + 1, 6) : e.wheelDelta < 0 && (R = Math.max(R - 1, -10)), e.deltaY < 0 ? R = Math.min(R + 1, 6) : e.deltaY > 0 && (R = Math.max(R - 1, -10)), D(), !1)\r\n            }\r\n          }(), {\r\n            reload: function (e) {\r\n              t = 0, f = !1, T = !0, _ = 1 == e.cameraVersion ? 1 : -1, h = -100, R = 0, P = 0, L = 0, w = !1, I = 0, M = 0, A.deleteTexture(s), Y(),\r\n                function (e, r, t, a) {\r\n                  var n = void 0 !== (new window.XMLHttpRequest).onprogress,\r\n                    o = e.length,\r\n                    i = o;\r\n                  r && i++;\r\n                  var f = new Array(o),\r\n                    u = new Array(o),\r\n                    c = new Array(o),\r\n                    s = 0,\r\n                    l = 0,\r\n                    v = o;\r\n                  if (!n) {\r\n                    for (var E = 0; E < o; E++) u[E] = 0, c[E] = 1;\r\n                    l = o, v = 0\r\n                  }\r\n\r\n                  function d() {\r\n                    0 == --i && t(f)\r\n                  }\r\n\r\n                  function m(e) {\r\n                    return function (r) {\r\n                      isNaN(c[e]) && r.total > 0 && (c[e] = r.total, u[e] = 0, l += r.total, v--), !isNaN(c[e]) && r.loaded > u[e] && (s += r.loaded - u[e], u[e] = r.loaded, 0 == v && a(s / l))\r\n                    }\r\n                  }\r\n\r\n                  function g(r, t) {\r\n                    return function () {\r\n                      if (isNaN(c[r]) ? v-- : c[r] > u[r] && (s += c[r] - u[r], u[r] = c[r], 0 == v && a(s / l)), this.status >= 200 && this.status < 400)\r\n                        if (t) {\r\n                          var n = this.getAllResponseHeaders().match(/^Content-Type\\:\\s*(.*?)$/im)[1] || \"image/png\",\r\n                            o = new Blob([this.response], {\r\n                              type: n\r\n                            });\r\n                          f[r] = new Image, f[r].onload = d, f[r].src = window.URL.createObjectURL(o)\r\n                        } else f[r] = this.response, d();\r\n                      else console.error(\"Unable to load file \" + e[r] + \"!\"), d()\r\n                    }\r\n                  }\r\n                  for (E = 0; E < o; E++) {\r\n                    var p = e[E],\r\n                      T = p.substr(p.lastIndexOf(\".\")),\r\n                      _ = \".jpg\" == T || \".bmp\" == T || \".png\" == T,\r\n                      h = _ || \".bin\" == T;\r\n                    if (!n && _) f[E] = new Image, f[E].onload = function () {\r\n                      a(++s / l), d()\r\n                    }, f[E].src = p;\r\n                    else {\r\n                      var R = new XMLHttpRequest;\r\n                      R.onload = g(E, _), n && (R.onprogress = m(E)), R.open(\"GET\", p, !0), h && (R.responseType = \"arraybuffer\"), R.send()\r\n                    }\r\n                  }\r\n                  r && (r(), d())\r\n                }(e.panorams[0], null, N, function (e) {\r\n                  t = e, T = !0, Y()\r\n                })\r\n            },\r\n            redraw: function () {\r\n              D()\r\n            }\r\n          }\r\n      }! function () {\r\n        var t, a;\r\n\r\n        function n() {\r\n          return !1\r\n        }\r\n        \"string\" == typeof (t = e.canvas) && (t = document.getElementById(t)), t.c3dpano = r(t), t.onselectstart = n, t.ondragstart = n, t.c3dpano.reload(((a = new Object).panorams = e.panorams, a.cameraVersion = e.cameraVersion, a))\r\n      }()\r\n    }({\r\n      canvas: e,\r\n      panorams: [\r\n        [path + \"/+X.jpg\", path + \"/-X.jpg\", path + \"/+Y.jpg\", path + \"/-Y.jpg\", path + \"/+Z.jpg\", path + \"/-Z.jpg\"]\r\n      ]\r\n    })\r\n}"]}